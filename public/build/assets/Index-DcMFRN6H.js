import{s as M,r as m,C as k,D as P,A as j,f as u,g as o,i as n,j as d,k as I,w as c,l as e,z as x,P as S,p as h,v as B,n as w,bx as D,B as L,q as f,F as _,m as z,K as A,t as l,I as N,J as q,aM as T,E as $}from"./vendor-BwD25tKZ.js";import{_ as E}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import{d as F}from"./debounce-Cwa4SNQ2.js";import{_ as G}from"./Pagination.vue_vue_type_script_setup_true_lang-DAC70Nby.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./constructNow-B9pLeBHj.js";import"./Primitive-BSXjhaNq.js";import"./format-BcfG6MxF.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./app-Bm08FwIe.js";const R={class:"space-y-6 p-6 print:p-0 print:space-y-0"},U={class:"liquidGlass-wrapper print:hidden"},H={class:"liquidGlass-content flex items-center justify-between p-4 gap-4"},J={class:"flex items-center gap-2 print:hidden"},K={class:"flex flex-col md:flex-row justify-between items-center gap-4 print:hidden"},O={class:"relative w-full md:w-1/3"},Q={class:"flex items-center gap-4"},W={class:"inline-flex items-center text-sm text-gray-700 dark:text-gray-300"},X={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},Y={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200"},Z={class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground"},ee={class:"px-6 py-3"},te={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},se={key:0,"fill-rule":"evenodd",d:"M3.293 12.95a1 1 0 011.414 0L10 18.243l5.293-5.293a1 1 0 111.414 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414z","clip-rule":"evenodd"},re={key:1,"fill-rule":"evenodd",d:"M16.707 7.05a1 1 0 01-1.414 0L10 1.757 4.707 7.05A1 1 0 013.293 5.636l6-6a1 1 0 011.414 0l6 6a1 1 0 010 1.414z","clip-rule":"evenodd"},ae={class:"px-6 py-4"},ne={class:"px-6 py-4"},le={class:"px-6 py-4"},ie={class:"px-6 py-4"},oe={class:"px-6 py-4"},de={class:"px-6 py-4"},ue=["title"],pe={class:"px-6 py-4"},ve={class:"flex items-center justify-end gap-1"},ye={key:0},ge={class:"mt-6 print:hidden"},me={key:1,class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300"},Be=M({__name:"Index",props:{inventoryAlerts:{},filters:{}},setup(C){const V=[{title:"Dashboard",href:route("dashboard")},{title:"Inventory Alerts",href:route("admin.inventory-alerts.index")}],a=C,v=m(a.filters?.search||""),y=m(a.filters?.per_page||5),g=m(typeof a.filters?.active_only>"u"?!0:a.filters?.active_only===!0||a.filters?.active_only===1||a.filters?.active_only==="1"),p=m(a.filters?.sort||void 0),i=m(a.filters?.direction==="asc"||a.filters?.direction==="desc"?a.filters?.direction:"asc");k(()=>a.filters,s=>{s&&(v.value=s.search??"",y.value=s.per_page??5,g.value=s.active_only===!0||s.active_only===1||s.active_only==="1",p.value=s.sort??void 0,i.value=s.direction==="asc"||s.direction==="desc"?s.direction:i.value)},{deep:!0}),k([v,y,g,p,i],F(()=>{P.get(route("admin.inventory-alerts.index"),{search:v.value,per_page:y.value,active_only:g.value?1:0,sort:p.value,direction:i.value},{preserveState:!0,replace:!0})},300));const b=j(()=>({search:v.value,per_page:y.value,active_only:g.value?1:0,sort:p.value,direction:i.value}));return(s,t)=>(o(),u(_,null,[n(d(I),{title:"Inventory Alerts"}),n(E,{breadcrumbs:V},{default:c(()=>[e("div",R,[e("div",U,[t[8]||(t[8]=e("div",{class:"liquidGlass-inner-shine","aria-hidden":"true"},null,-1)),e("div",H,[t[7]||(t[7]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"print:hidden"},[e("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Inventory Alerts"),e("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Manage inventory alerts")])],-1)),e("div",J,[n(d(x),{href:s.route("admin.inventory-alerts.create"),class:"btn-glass"},{default:c(()=>[...t[5]||(t[5]=[e("span",null,"Add Inventory Alert",-1)])]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=(...r)=>s.printCurrentView&&s.printCurrentView(...r)),class:"btn-glass btn-glass-sm"},[n(d(S),{class:"icon"}),t[6]||(t[6]=e("span",{class:"hidden sm:inline"},"Print Current",-1))])])])]),e("div",K,[e("div",O,[h(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>v.value=r),placeholder:"Search by item name...",class:"form-input w-full rounded-md border border-gray-300 pl-10 pr-4 py-2 text-sm shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none dark:bg-gray-900 dark:text-gray-100"},null,512),[[B,v.value]]),t[9]||(t[9]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.65-1.85z"})],-1))]),e("div",Q,[e("label",W,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=r=>g.value=r),class:"mr-2"},null,512),[[D,g.value]]),t[10]||(t[10]=w(" Show only active ",-1))]),t[12]||(t[12]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Per Page:",-1)),h(e("select",{id:"perPage","onUpdate:modelValue":t[3]||(t[3]=r=>y.value=r),class:"rounded-md border-gray-300 bg-white text-gray-900 sm:text-sm px-2 py-1 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"},[...t[11]||(t[11]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],512),[[L,y.value]])])]),e("div",X,[e("table",Y,[e("thead",Z,[e("tr",null,[e("th",ee,[e("button",{class:"inline-flex items-center gap-1 hover:underline",onClick:t[4]||(t[4]=r=>{p.value==="is_active"?i.value=i.value==="asc"?"desc":"asc":(p.value="is_active",i.value="desc")})},[t[13]||(t[13]=w(" Status ",-1)),p.value==="is_active"?(o(),u("svg",te,[i.value==="asc"?(o(),u("path",se)):(o(),u("path",re))])):f("",!0)])]),t[14]||(t[14]=e("th",{class:"px-6 py-3"},"Item Name",-1)),t[15]||(t[15]=e("th",{class:"px-6 py-3"},"Qty on Hand",-1)),t[16]||(t[16]=e("th",{class:"px-6 py-3"},"Reorder Level",-1)),t[17]||(t[17]=e("th",{class:"px-6 py-3"},"Alert Type",-1)),t[18]||(t[18]=e("th",{class:"px-6 py-3"},"Triggered",-1)),t[19]||(t[19]=e("th",{class:"px-6 py-3"},"Message",-1)),t[20]||(t[20]=e("th",{class:"px-6 py-3 text-right"},"Actions",-1))])]),e("tbody",null,[(o(!0),u(_,null,z(s.inventoryAlerts.data,r=>(o(),u("tr",{key:r.id,class:A(["border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",{"bg-red-50 dark:bg-red-900/10":r.is_active}])},[e("td",ae,[e("span",{class:A(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",r.is_active?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-200"])},l(r.is_active?"Active":"Resolved"),3)]),e("td",ne,l(r.item?.name??"-"),1),e("td",le,l(r.item?.quantity_on_hand??"-"),1),e("td",ie,l(r.item?.reorder_level??"-"),1),e("td",oe,l(r.alert_type||"-"),1),e("td",de,l(r.triggered_at?new Date(r.triggered_at).toLocaleString():"-"),1),e("td",{class:"px-6 py-4 truncate max-w-[280px]",title:r.message},l(r.message||"-"),9,ue),e("td",pe,[e("div",ve,[n(d(x),{href:s.route("admin.inventory-alerts.show",{inventory_alert:r.id,return_to:s.route("admin.inventory-alerts.index",b.value.value)}),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-200",title:"View Details"},{default:c(()=>[n(d(N),{class:"w-4 h-4"})]),_:2},1032,["href"]),n(d(x),{href:s.route("admin.inventory-alerts.edit",r.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600",title:"Edit Alert"},{default:c(()=>[n(d(q),{class:"w-4 h-4"})]),_:2},1032,["href"]),n(d(x),{href:s.route("admin.task-delegations.create",{title:`Restock ${r.item?.name??"Item"} - ${r.alert_type??"Alert"}`,notes:r.message??"",return_to:s.route("admin.inventory-alerts.index",b.value.value)}),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-cyan-50 dark:hover:bg-cyan-900/20 text-cyan-600",title:"Delegate Task"},{default:c(()=>[n(d(T),{class:"w-4 h-4"})]),_:2},1032,["href"])])])],2))),128)),s.inventoryAlerts.data.length===0?(o(),u("tr",ye,[...t[21]||(t[21]=[e("td",{colspan:"3",class:"text-center px-6 py-4 text-gray-400"},"No inventory alerts.",-1)])])):f("",!0)])])]),e("div",ge,[s.inventoryAlerts.data.length>0?(o(),$(G,{key:0,links:s.inventoryAlerts.links},null,8,["links"])):f("",!0),s.inventoryAlerts?.meta?.total?(o(),u("p",me," Showing "+l(s.inventoryAlerts.meta.from||0)+"â€“"+l(s.inventoryAlerts.meta.to||0)+" of "+l(s.inventoryAlerts.meta.total),1)):f("",!0)])])]),_:1})],64))}});export{Be as default};
