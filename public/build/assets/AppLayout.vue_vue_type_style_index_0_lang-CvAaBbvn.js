import{_ as B}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import{s as _,W as $,r as u,A as C,o as T,C as L,f as d,g as c,q as v,K as w,l as a,t as p,R as S,E,w as H,i as A,X as N,a as M}from"./vendor-BwD25tKZ.js";import{e as z}from"./constructNow-B9pLeBHj.js";const O={key:0,viewBox:"0 0 24 24",class:"text-green-600 w-5 h-5 sm:w-5 sm:h-5 mr-3"},V={key:1,viewBox:"0 0 24 24",class:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3"},j={key:2,viewBox:"0 0 24 24",class:"text-yellow-600 w-5 h-5 sm:w-5 sm:h-5 mr-3"},I={key:3,viewBox:"0 0 24 24",class:"text-blue-600 w-5 h-5 sm:w-5 sm:h-5 mr-3"},R={class:"flex-1 pr-6"},U=_({__name:"Toast",setup(x){const m=$(),s=u(!0);let n=null;const e=C(()=>m.props.flash?.bannerStyle||"success"),l=C(()=>m.props.flash?.banner||""),i=()=>{n&&(clearTimeout(n),n=null)},r=()=>{switch(e.value){case"danger":case"warning":return 12e3;case"info":return 9e3;case"success":default:return 8e3}},g=()=>{l.value&&(s.value=!0,i(),n=window.setTimeout(()=>{s.value=!1,n=null},r()))},f=()=>{i(),s.value=!1},h=()=>{i()},b=()=>{s.value&&l.value&&(i(),n=window.setTimeout(()=>{s.value=!1,n=null},3e3))};return T(()=>{g()}),L(()=>m.props.flash,()=>{g()},{deep:!0}),(y,o)=>(c(),d("div",{class:w(["fixed z-50 w-full px-2 mb-4",["left-1/2 -translate-x-1/2 bottom-4","md:left-auto md:translate-x-0 md:right-24 md:bottom-8 md:w-auto md:max-w-md"]])},[s.value&&l.value?(c(),d("div",{key:0,role:"status","aria-live":"polite",onMouseenter:h,onMouseleave:b,class:w([{"bg-green-200":e.value=="success","bg-red-200":e.value=="danger","bg-orange-200":e.value=="warning","bg-blue-200":e.value=="info"},"px-4 py-3 rounded-md text-sm flex items-start shadow-lg border border-black/5"])},[e.value=="success"?(c(),d("svg",O,[...o[0]||(o[0]=[a("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"},null,-1)])])):v("",!0),e.value=="danger"?(c(),d("svg",V,[...o[1]||(o[1]=[a("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"},null,-1)])])):v("",!0),e.value=="warning"?(c(),d("svg",j,[...o[2]||(o[2]=[a("path",{fill:"currentColor",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"},null,-1)])])):v("",!0),e.value=="info"?(c(),d("svg",I,[...o[3]||(o[3]=[a("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"},null,-1)])])):v("",!0),a("div",R,[a("span",{class:w({"text-green-800":e.value=="success","text-red-800":e.value=="danger","text-yellow-800":e.value=="warning","text-blue-800":e.value=="info"})},p(l.value),3)]),a("button",{type:"button",onClick:f,class:"ml-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close notification"},[...o[4]||(o[4]=[a("svg",{viewBox:"0 0 24 24",class:"w-4 h-4"},[a("path",{fill:"currentColor",d:"M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.9 4.89a1 1 0 1 0 1.41 1.42L12 13.41l4.89 4.9a1 1 0 0 0 1.42-1.41L13.41 12l4.9-4.89a1 1 0 0 0-.01-1.4Z"})],-1)])])],34)):v("",!0)]))}}),q={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center"},D=["aria-labelledby"],F=["id"],K={key:0,class:"mt-2 text-sm text-gray-700 dark:text-gray-300"},P={class:"mt-6 flex justify-end gap-2"},W=_({__name:"ConfirmModal",props:{open:{type:Boolean},title:{default:"Are you sure? "},message:{default:""},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"},idSuffix:{default:"confirm-modal"}},emits:["update:open","confirm","cancel"],setup(x,{emit:m}){const s=x,n=m,e=C(()=>`modal-title-${s.idSuffix}`);function l(){n("update:open",!1),n("cancel")}function i(){n("confirm")}return(r,g)=>r.open?(c(),d("div",q,[a("div",{class:"absolute inset-0 bg-black/40",onClick:l,"aria-hidden":"true"}),a("div",{role:"dialog","aria-modal":"true","aria-labelledby":e.value,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 p-6"},[a("h3",{id:e.value,class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},p(r.title),9,F),r.message?(c(),d("p",K,p(r.message),1)):v("",!0),a("div",P,[a("button",{type:"button",onClick:l,class:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"},p(r.cancelText),1),a("button",{type:"button",onClick:i,class:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700"},p(r.confirmText),1)])],8,D)])):v("",!0)}}),Q=_({__name:"AppLayout",props:{breadcrumbs:{default:()=>[]}},setup(x){const m=u([]),s=u(0),n=u(0);u(!1);const e=u(!1),l=u("Are you sure?"),i=u(""),r=u("Confirm"),g=u("Cancel");let f=null;const h=async()=>{try{const t=await M.get(route("notifications.index"));m.value=t.data.notifications,s.value=t.data.unread_count}catch(t){console.error("Error fetching notifications:",t)}},b=async()=>{try{const t=await M.get(route("admin.inventory-alerts.count"));n.value=t.data.count}catch(t){console.error("Error fetching inventory alert count:",t)}};T(()=>{h(),b(),z.on("confirm:open",t=>{l.value=t.title||"Are you sure?",i.value=t.message||"",r.value=t.confirmText||"Confirm",g.value=t.cancelText||"Cancel",f=t.__resolve,e.value=!0})}),S(()=>{});function y(){e.value=!1,f?.(!1),f=null}function o(){e.value=!1,f?.(!0),f=null}return(t,k)=>(c(),E(B,{breadcrumbs:t.breadcrumbs,"unread-count":s.value,"inventory-alert-count":n.value},{default:H(()=>[A(U),N(t.$slots,"default"),A(W,{open:e.value,title:l.value,message:i.value,"confirm-text":r.value,"cancel-text":g.value,"onUpdate:open":k[0]||(k[0]=Z=>{Z||y()}),onConfirm:o,onCancel:y},null,8,["open","title","message","confirm-text","cancel-text"])]),_:3},8,["breadcrumbs","unread-count","inventory-alert-count"]))}});export{Q as _};
