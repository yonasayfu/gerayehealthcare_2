import{P as y,c as g,a as S}from"./index-C8zLWs5I.js";import{c as I}from"./format-BigqMyrM.js";import{d as u,k as v,m as d,o as i,w as p,A as f,u as n,J as x,i as P,f as L,z as b,D as B,y as E,l as R,h as z,aa as j,p as F,C as $}from"./app-B9ZmK4zT.js";import{a as C,i as A}from"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import{c as U}from"./createContext-fsEdSFMX.js";const[M,D]=U("AvatarRoot"),q=u({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){return C(),D({imageLoadingStatus:v("idle")}),(a,t)=>(i(),d(n(y),{"as-child":a.asChild,as:a.as},{default:p(()=>[f(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),N=u({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{default:"span"}},setup(e){const a=e,t=M();C();const o=v(a.delayMs===void 0);return x(s=>{if(a.delayMs&&A){const l=window.setTimeout(()=>{o.value=!0},a.delayMs);s(()=>{window.clearTimeout(l)})}}),(s,l)=>o.value&&n(t).imageLoadingStatus.value!=="loaded"?(i(),d(n(y),{key:0,"as-child":s.asChild,as:s.as},{default:p(()=>[f(s.$slots,"default")]),_:3},8,["as-child","as"])):P("",!0)}});function w(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T(e,{referrerPolicy:a,crossOrigin:t}={}){const o=v(!1),s=v(null),l=L(()=>o.value?(!s.value&&A&&(s.value=new window.Image),s.value):null),m=v(w(l.value,e.value)),h=c=>()=>{o.value&&(m.value=c)};return b(()=>{o.value=!0,x(c=>{const r=l.value;if(!r)return;m.value=w(r,e.value);const _=h("loaded"),k=h("error");r.addEventListener("load",_),r.addEventListener("error",k),a!=null&&a.value&&(r.referrerPolicy=a.value),typeof(t==null?void 0:t.value)=="string"&&(r.crossOrigin=t.value),c(()=>{r.removeEventListener("load",_),r.removeEventListener("error",k)})})}),B(()=>{o.value=!1}),m}const H=u({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:a}){const t=e,o=a,{src:s,referrerPolicy:l,crossOrigin:m}=E(t);C();const h=M(),c=T(s,{referrerPolicy:l,crossOrigin:m});return R(c,r=>{o("loadingStatusChange",r),r!=="idle"&&(h.imageLoadingStatus.value=r)},{immediate:!0}),(r,_)=>z((i(),d(n(y),{role:"img","as-child":r.asChild,as:r.as,src:n(s),"referrer-policy":n(l)},{default:p(()=>[f(r.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[j,n(c)==="loaded"]])}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=g("PaperclipIcon",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=g("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=g("UserPlusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function Z(e){return I(e,Date.now())}const V=u({__name:"Avatar",props:{class:{}},setup(e){const a=e;return(t,o)=>(i(),d(n(q),{"data-slot":"avatar",class:F(n(S)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a.class))},{default:p(()=>[f(t.$slots,"default")]),_:3},8,["class"]))}}),aa=u({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=L(()=>{const{class:o,...s}=a;return s});return(o,s)=>(i(),d(n(N),$({"data-slot":"avatar-fallback"},t.value,{class:n(S)("bg-muted flex size-full items-center justify-center rounded-full",a.class)}),{default:p(()=>[f(o.$slots,"default")]),_:3},16,["class"]))}}),ea=u({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,o)=>(i(),d(n(H),$({"data-slot":"avatar-image"},a,{class:"aspect-square size-full"}),{default:p(()=>[f(t.$slots,"default")]),_:3},16))}}),ta=(e,a)=>{const t=e.__vccOpts||e;for(const[o,s]of a)t[o]=s;return t};export{Q as P,X as S,Y as U,ta as _,V as a,ea as b,Z as c,aa as d};
