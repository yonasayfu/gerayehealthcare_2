import{s as _,f as a,g as l,i as n,j as i,k as x,w as d,l as t,z as p,n as b,q as g,F as u,m as v,t as r,x as w,bA as k,I,u as C}from"./vendor-BwD25tKZ.js";import{_ as F}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import{f as V}from"./format-BcfG6MxF.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./constructNow-B9pLeBHj.js";import"./Primitive-BSXjhaNq.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./debounce-Cwa4SNQ2.js";import"./app-Bm08FwIe.js";const D={class:"p-6 space-y-6"},N={class:"flex items-center justify-between"},j={class:"flex items-center gap-2"},G={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},P={class:"w-full text-left text-sm"},B={key:0},M={class:"px-6 py-4 font-medium"},E={class:"px-6 py-4"},U={class:"px-6 py-4"},A={class:"px-6 py-4"},S={class:"px-6 py-4"},T={class:"flex justify-end gap-2"},$=["onClick"],ot=_({__name:"Incoming",props:{groups:{}},setup(q){const f=[{title:"Dashboard",href:route("dashboard")},{title:"Invoices",href:route("admin.invoices.index")},{title:"Incoming",href:route("admin.invoices.incoming")}],h=e=>{const s=typeof e=="string"?parseFloat(e):e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)},c=e=>e?V(new Date(e),"MMM dd, yyyy"):"-";function y(e,s){const o=C({patient_id:e,visit_ids:s});function m(){o.post(route("admin.invoices.generate"))}return{form:o,submit:m}}return(e,s)=>(l(),a(u,null,[n(i(x),{title:"Incoming Invoices"}),n(F,{breadcrumbs:f},{default:d(()=>[t("div",D,[t("div",N,[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Incoming Invoices"),t("p",{class:"text-sm text-muted-foreground"},"Completed, billable visits not yet invoiced. Generate invoices in one click.")],-1)),t("div",j,[n(i(p),{href:e.route("admin.invoices.index"),class:"text-sm text-indigo-600 hover:underline"},{default:d(()=>[...s[0]||(s[0]=[b("Go to Invoices",-1)])]),_:1},8,["href"])])]),t("div",G,[t("table",P,[s[3]||(s[3]=t("thead",{class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Patient"),t("th",{class:"px-6 py-3"},"Billable Visits"),t("th",{class:"px-6 py-3"},"Date Range"),t("th",{class:"px-6 py-3"},"Estimated Total"),t("th",{class:"px-6 py-3 text-right"},"Actions")])],-1)),t("tbody",null,[!e.groups||e.groups.length===0?(l(),a("tr",B,[...s[2]||(s[2]=[t("td",{colspan:"5",class:"px-6 py-6 text-center text-gray-500"},"No incoming billables found. You're all caught up!",-1)])])):g("",!0),(l(!0),a(u,null,v(e.groups,o=>(l(),a("tr",{key:o.patient_id,class:"border-b dark:border-gray-700"},[t("td",M,r(o.patient_name||"Unknown Patient"),1),t("td",E,r(o.count),1),t("td",U,r(c(o.first_date))+" â€“ "+r(c(o.last_date)),1),t("td",A,r(h(o.estimated_total)),1),t("td",S,[t("div",T,[t("button",{title:"Generate Invoice","aria-label":"Generate Invoice",class:"inline-flex items-center justify-center h-9 w-9 rounded-md bg-emerald-600 text-white hover:bg-emerald-700 focus:outline-none",onClick:w(m=>y(o.patient_id,o.visit_ids).submit(),["prevent"])},[n(i(k),{class:"h-4 w-4"})],8,$),n(i(p),{href:e.route("admin.patients.show",o.patient_id),title:"View Patient","aria-label":"View Patient",class:"inline-flex items-center justify-center h-9 w-9 rounded-md border text-gray-700 hover:bg-gray-50",target:"_blank",rel:"noopener"},{default:d(()=>[n(i(I),{class:"h-4 w-4"})]),_:2},1032,["href"])])])]))),128))])])])])]),_:1})],64))}});export{ot as default};
