import{B as We,ad as Xe,ae as he,af as Fe,ag as Ce,ah as Le,d as A,ai as se,m as g,C as j,c as N,o as y,e as C,a as x,w as b,G as T,aj as ie,b as s,$ as P,z as V,F as re,g as I,p as z,R as F,x as $,y as Y,ak as qe,al as Ge,am as be,P as ae,an as Ee,V as ge,ao as Je,ap as Ke,aq as Qe,ar as Ze,as as et,at as tt,L as nt,au as lt,u as at,av as $e,a1 as G,r as ke,n as Q,aw as Z,ax as ee,ay as te,t as M,az as rt,aA as ot,aB as st,i as ve,E as it}from"./app-B0DqkaDV.js";import{_ as pe}from"./Input.vue_vue_type_script_setup_true_lang-DTWfPsU9.js";import{D as ut}from"./download-BVP71V8W.js";import{C as ct}from"./check-l3eNO4rN.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=We("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function ft(t,e,n){const l=Xe(t,n==null?void 0:n.in);return isNaN(e)?he(t,NaN):(l.setDate(l.getDate()+e),l)}function Pe(t,e,n){const[l,a]=Fe(n==null?void 0:n.in,t,e);return+Ce(l)==+Ce(a)}function vt(t,e){return Pe(he(t,t),Le(t))}function pt(t,e,n){return ft(t,-1,n)}function mt(t,e){return Pe(he(t,t),pt(Le(t)))}function ue(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,l=Symbol(n);return[a=>{const r=qe(l,a);if(r||r===null)return r;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},a=>(Ge(l,a),a)]}function ht(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function bt(t){return Qe()?(Ze(t),!0):!1}function gt(t){let e=!1,n;const l=tt(!0);return(...a)=>(e||(n=l.run(()=>t(...a)),e=!0),n)}function me(t){return typeof t=="function"?t():s(t)}const De=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Te=()=>{};function _t(t,e){function n(...l){return new Promise((a,r)=>{Promise.resolve(t(()=>e.apply(this,l),{fn:e,thisArg:this,args:l})).then(a).catch(r)})}return n}function yt(t,e={}){let n,l,a=Te;const r=i=>{clearTimeout(i),a(),a=Te};return i=>{const o=me(t),u=me(e.maxWait);return n&&r(n),o<=0||u!==void 0&&u<=0?(l&&(r(l),l=null),Promise.resolve(i())):new Promise((d,v)=>{a=e.rejectOnCancel?v:d,u&&!l&&(l=setTimeout(()=>{n&&r(n),l=null,d(i())},u)),n=setTimeout(()=>{l&&r(l),l=null,d(i())},o)})}}function Me(t,e=200,n={}){return _t(yt(e,n),t)}function wt(t,e,n){const l=z(t,(...a)=>(ge(()=>l()),e(...a)),n);return l}function oe(t){var e;const n=me(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Re=De?window:void 0;function xt(){const t=g(!1),e=be();return e&&j(()=>{t.value=!0},e),t}function St(t){const e=xt();return I(()=>(e.value,!!t()))}function W(t,e,n={}){const{window:l=Re,...a}=n;let r;const i=St(()=>l&&"ResizeObserver"in l),o=()=>{r&&(r.disconnect(),r=void 0)},u=I(()=>Array.isArray(t)?t.map(h=>oe(h)):[oe(t)]),d=z(u,h=>{if(o(),i.value&&l){r=new ResizeObserver(e);for(const m of h)m&&r.observe(m,a)}},{immediate:!0,flush:"post"}),v=()=>{o(),d()};return bt(v),{isSupported:i,stop:v}}function _e(t){return t?t.flatMap(e=>e.type===re?_e(e.children):[e]):[]}const[Oe,Tn]=ue("ConfigProvider");function Ct(t){const e=Oe({dir:g("ltr")});return I(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function B(){const t=be(),e=g(),n=I(()=>{var i,o;return["#text","#comment"].includes((i=e.value)==null?void 0:i.$el.nodeName)?(o=e.value)==null?void 0:o.$el.nextElementSibling:oe(e)}),l=Object.assign({},t.exposed),a={};for(const i in t.props)Object.defineProperty(a,i,{enumerable:!0,configurable:!0,get:()=>t.props[i]});if(Object.keys(l).length>0)for(const i in l)Object.defineProperty(a,i,{enumerable:!0,configurable:!0,get:()=>l[i]});Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=a;function r(i){e.value=i,i&&(Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),t.exposed=a)}return{forwardRef:r,currentRef:e,currentElement:n}}function ze(t,e){const n=g(t);function l(a){return e[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=l(a)}}}const Et=A({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l,a;if(!n.default)return null;const r=_e(n.default()),i=r.findIndex(v=>v.type!==Je);if(i===-1)return r;const o=r[i];(l=o.props)==null||delete l.ref;const u=o.props?P(e,o.props):e;e.class&&(a=o.props)!=null&&a.class&&delete o.props.class;const d=Ke(o,u);for(const v in u)v.startsWith("on")&&(d.props||(d.props={}),d.props[v]=u[v]);return r.length===1?d:(r[i]=d,r)}}}),X=A({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const l=t.asChild?"template":t.as;return typeof l=="string"&&["area","img","input"].includes(l)?()=>ae(l,e):l!=="template"?()=>ae(t.as,e,{default:n.default}):()=>ae(Et,e,{default:n.default})}});function $t(t,e){var n;const l=g({}),a=g("none"),r=g(t),i=t.value?"mounted":"unmounted";let o;const u=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??Re,{state:d,dispatch:v}=ze(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=S=>{var c;if(De){const _=new CustomEvent(S,{bubbles:!1,cancelable:!1});(c=e.value)==null||c.dispatchEvent(_)}};z(t,async(S,c)=>{var _;const f=c!==S;if(await ge(),f){const D=a.value,L=ne(e.value);S?(v("MOUNT"),h("enter"),L==="none"&&h("after-enter")):L==="none"||((_=l.value)==null?void 0:_.display)==="none"?(v("UNMOUNT"),h("leave"),h("after-leave")):c&&D!==L?(v("ANIMATION_OUT"),h("leave")):(v("UNMOUNT"),h("after-leave"))}},{immediate:!0});const m=S=>{const c=ne(e.value),_=c.includes(S.animationName),f=d.value==="mounted"?"enter":"leave";if(S.target===e.value&&_&&(h(`after-${f}`),v("ANIMATION_END"),!r.value)){const D=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=u==null?void 0:u.setTimeout(()=>{var L;((L=e.value)==null?void 0:L.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=D)})}S.target===e.value&&c==="none"&&v("ANIMATION_END")},k=S=>{S.target===e.value&&(a.value=ne(e.value))},R=z(e,(S,c)=>{S?(l.value=getComputedStyle(S),S.addEventListener("animationstart",k),S.addEventListener("animationcancel",m),S.addEventListener("animationend",m)):(v("ANIMATION_END"),o!==void 0&&(u==null||u.clearTimeout(o)),c==null||c.removeEventListener("animationstart",k),c==null||c.removeEventListener("animationcancel",m),c==null||c.removeEventListener("animationend",m))},{immediate:!0}),O=z(d,()=>{const S=ne(e.value);a.value=d.value==="mounted"?S:"none"});return F(()=>{R(),O()}),{isPresent:I(()=>["mounted","unmountSuspended"].includes(d.value))}}function ne(t){return t&&getComputedStyle(t).animationName||"none"}const ye=A({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var l;const{present:a,forceMount:r}=se(t),i=g(),{isPresent:o}=$t(a,i);n({present:o});let u=e.default({present:o});u=_e(u||[]);const d=be();if(u&&(u==null?void 0:u.length)>1){const v=(l=d==null?void 0:d.parent)!=null&&l.type.name?`<${d.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${v}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>r.value||a.value||o.value?ae(e.default({present:o})[0],{ref:v=>{const h=oe(v);return typeof(h==null?void 0:h.hasAttribute)>"u"||(h!=null&&h.hasAttribute("data-radix-popper-content-wrapper")?i.value=h.firstElementChild:i.value=h),h}}):null}});et({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});gt(()=>g([]));function kt(t){const e=Oe({nonce:g()});return I(()=>{var n;return(t==null?void 0:t.value)||((n=e.nonce)==null?void 0:n.value)})}const[H,Tt]=ue("ScrollAreaRoot"),At=A({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,l=g(0),a=g(0),r=g(),i=g(),o=g(),u=g(),d=g(!1),v=g(!1),{type:h,dir:m,scrollHideDelay:k}=se(n),R=Ct(m);function O(){var f;(f=r.value)==null||f.scrollTo({top:0})}function S(){var f;(f=r.value)==null||f.scrollTo({top:0,left:0})}e({viewport:r,scrollTop:O,scrollTopLeft:S});const{forwardRef:c,currentElement:_}=B();return Tt({type:h,dir:R,scrollHideDelay:k,scrollArea:_,viewport:r,onViewportChange:f=>{r.value=f||void 0},content:i,onContentChange:f=>{i.value=f},scrollbarX:o,scrollbarXEnabled:d,scrollbarY:u,scrollbarYEnabled:v,onScrollbarXChange:f=>{o.value=f||void 0},onScrollbarYChange:f=>{u.value=f||void 0},onScrollbarXEnabledChange:f=>{d.value=f},onScrollbarYEnabledChange:f=>{v.value=f},onCornerWidthChange:f=>{l.value=f},onCornerHeightChange:f=>{a.value=f}}),(f,D)=>(y(),$(s(X),{ref:s(c),"as-child":n.asChild,as:f.as,dir:s(R),style:ie({position:"relative","--radix-scroll-area-corner-width":`${l.value}px`,"--radix-scroll-area-corner-height":`${a.value}px`})},{default:b(()=>[T(f.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),Nt=A({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,{nonce:l}=se(n),a=kt(l),r=H(),i=g();j(()=>{r.onViewportChange(i.value),r.onContentChange(u.value)}),e({viewportElement:i});const{forwardRef:o,currentElement:u}=B();return(d,v)=>(y(),N(re,null,[C("div",P({ref_key:"viewportElement",ref:i,"data-radix-scroll-area-viewport":"",style:{overflowX:s(r).scrollbarXEnabled.value?"scroll":"hidden",overflowY:s(r).scrollbarYEnabled.value?"scroll":"hidden"}},d.$attrs,{tabindex:0}),[x(s(X),{ref:s(o),style:ie({minWidth:s(r).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:d.as},{default:b(()=>[T(d.$slots,"default")]),_:3},8,["style","as-child","as"])],16),x(s(X),{as:"style",nonce:s(a)},{default:b(()=>[V(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-radix-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-radix-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")]),_:1},8,["nonce"])],64))}});function Be(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const l=(e[1]-e[0])/(t[1]-t[0]);return e[0]+l*(n-t[0])}}function ce(t){const e=He(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=(t.scrollbar.size-n)*e;return Math.max(l,18)}function He(t,e){const n=t/e;return Number.isNaN(n)?0:n}function It(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},l=0;return function a(){const r={left:t.scrollLeft,top:t.scrollTop},i=n.left!==r.left,o=n.top!==r.top;(i||o)&&e(),n=r,l=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(l)}function Ae(t,e,n="ltr"){const l=ce(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=e.scrollbar.size-a,i=e.content-e.viewport,o=r-l,u=n==="ltr"?[0,i]:[i*-1,0],d=ht(t,u[0],u[1]);return Be([0,i],[0,o])(d)}function le(t){return t?Number.parseInt(t,10):0}function Lt(t,e,n,l="ltr"){const a=ce(n),r=a/2,i=e||r,o=a-i,u=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-o,v=n.content-n.viewport,h=l==="ltr"?[0,v]:[v*-1,0];return Be([u,d],h)(t)}function Ne(t,e){return t>0&&t<e}const Ve=A({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,l=e,a=H(),r=de(),i=fe(),{forwardRef:o,currentElement:u}=B(),d=g(""),v=g();function h(c){var _,f;if(v.value){const D=c.clientX-((_=v.value)==null?void 0:_.left),L=c.clientY-((f=v.value)==null?void 0:f.top);l("onDragScroll",{x:D,y:L})}}function m(c){c.button===0&&(c.target.setPointerCapture(c.pointerId),v.value=u.value.getBoundingClientRect(),d.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",a.viewport&&(a.viewport.value.style.scrollBehavior="auto"),h(c))}function k(c){h(c)}function R(c){const _=c.target;_.hasPointerCapture(c.pointerId)&&_.releasePointerCapture(c.pointerId),document.body.style.webkitUserSelect=d.value,a.viewport&&(a.viewport.value.style.scrollBehavior=""),v.value=void 0}function O(c){var _;const f=c.target,D=(_=u.value)==null?void 0:_.contains(f),L=r.sizes.value.content-r.sizes.value.viewport;D&&r.handleWheelScroll(c,L)}j(()=>{document.addEventListener("wheel",O,{passive:!1})}),F(()=>{document.removeEventListener("wheel",O)});function S(){var c,_,f,D,L;u.value&&(n.isHorizontal?r.handleSizeChange({content:((c=a.viewport.value)==null?void 0:c.scrollWidth)??0,viewport:((_=a.viewport.value)==null?void 0:_.offsetWidth)??0,scrollbar:{size:u.value.clientWidth??0,paddingStart:le(getComputedStyle(u.value).paddingLeft),paddingEnd:le(getComputedStyle(u.value).paddingRight)}}):r.handleSizeChange({content:((f=a.viewport.value)==null?void 0:f.scrollHeight)??0,viewport:((D=a.viewport.value)==null?void 0:D.offsetHeight)??0,scrollbar:{size:((L=u.value)==null?void 0:L.clientHeight)??0,paddingStart:le(getComputedStyle(u.value).paddingLeft),paddingEnd:le(getComputedStyle(u.value).paddingRight)}}))}return W(u,S),W(a.content,S),(c,_)=>(y(),$(s(X),{ref:s(o),style:{position:"absolute"},"data-scrollbarimpl":"",as:s(i).as.value,"as-child":s(i).asChild.value,onPointerdown:m,onPointermove:k,onPointerup:R},{default:b(()=>[T(c.$slots,"default")]),_:3},8,["as","as-child"]))}}),Pt=A({__name:"ScrollAreaScrollbarX",setup(t){const e=H(),n=de(),{forwardRef:l,currentElement:a}=B();j(()=>{a.value&&e.onScrollbarXChange(a.value)});const r=I(()=>n.sizes.value);return(i,o)=>(y(),$(Ve,{ref:s(l),"is-horizontal":!0,"data-orientation":"horizontal",style:ie({bottom:0,left:s(e).dir.value==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s(e).dir.value==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r.value?`${s(ce)(r.value)}px`:void 0}),onOnDragScroll:o[0]||(o[0]=u=>s(n).onDragScroll(u.x))},{default:b(()=>[T(i.$slots,"default")]),_:3},8,["style"]))}}),Dt=A({__name:"ScrollAreaScrollbarY",setup(t){const e=H(),n=de(),{forwardRef:l,currentElement:a}=B();j(()=>{a.value&&e.onScrollbarYChange(a.value)});const r=I(()=>n.sizes.value);return(i,o)=>(y(),$(Ve,{ref:s(l),"is-horizontal":!1,"data-orientation":"vertical",style:ie({top:0,right:s(e).dir.value==="ltr"?0:void 0,left:s(e).dir.value==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r.value?`${s(ce)(r.value)}px`:void 0}),onOnDragScroll:o[0]||(o[0]=u=>s(n).onDragScroll(u.y))},{default:b(()=>[T(i.$slots,"default")]),_:3},8,["style"]))}}),[de,Mt]=ue("ScrollAreaScrollbarVisible"),we=A({__name:"ScrollAreaScrollbarVisible",setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),a=g({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),r=I(()=>{const c=He(a.value.viewport,a.value.content);return c>0&&c<1}),i=g(),o=g(0);function u(c,_){if(k.value){const f=e.viewport.value.scrollLeft+c.deltaY;e.viewport.value.scrollLeft=f,Ne(f,_)&&c.preventDefault()}else{const f=e.viewport.value.scrollTop+c.deltaY;e.viewport.value.scrollTop=f,Ne(f,_)&&c.preventDefault()}}function d(c,_){k.value?o.value=_.x:o.value=_.y}function v(c){o.value=0}function h(c){a.value=c}function m(c,_){return Lt(c,o.value,a.value,_)}const k=I(()=>n.isHorizontal.value);function R(c){k.value?e.viewport.value.scrollLeft=m(c,e.dir.value):e.viewport.value.scrollTop=m(c)}function O(){if(k.value){if(e.viewport.value&&i.value){const c=e.viewport.value.scrollLeft,_=Ae(c,a.value,e.dir.value);i.value.style.transform=`translate3d(${_}px, 0, 0)`}}else if(e.viewport.value&&i.value){const c=e.viewport.value.scrollTop,_=Ae(c,a.value);i.value.style.transform=`translate3d(0, ${_}px, 0)`}}function S(c){i.value=c}return Mt({sizes:a,hasThumb:r,handleWheelScroll:u,handleThumbDown:d,handleThumbUp:v,handleSizeChange:h,onThumbPositionChange:O,onThumbChange:S,onDragScroll:R}),(c,_)=>k.value?(y(),$(Pt,P({key:0},c.$attrs,{ref:s(l)}),{default:b(()=>[T(c.$slots,"default")]),_:3},16)):(y(),$(Dt,P({key:1},c.$attrs,{ref:s(l)}),{default:b(()=>[T(c.$slots,"default")]),_:3},16))}}),Ye=A({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),a=g(!1),r=Me(()=>{if(e.viewport.value){const i=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,o=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;a.value=n.isHorizontal.value?i:o}},10);return j(()=>r()),W(e.viewport,r),W(e.content,r),(i,o)=>(y(),$(s(ye),{present:i.forceMount||a.value},{default:b(()=>[x(we,P(i.$attrs,{ref:s(l),"data-state":a.value?"visible":"hidden"}),{default:b(()=>[T(i.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Rt=A({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(t){const e=H(),{forwardRef:n}=B();let l;const a=g(!1);function r(){window.clearTimeout(l),a.value=!0}function i(){l=window.setTimeout(()=>{a.value=!1},e.scrollHideDelay.value)}return j(()=>{const o=e.scrollArea.value;o&&(o.addEventListener("pointerenter",r),o.addEventListener("pointerleave",i))}),F(()=>{const o=e.scrollArea.value;o&&(window.clearTimeout(l),o.removeEventListener("pointerenter",r),o.removeEventListener("pointerleave",i))}),(o,u)=>(y(),$(s(ye),{present:o.forceMount||a.value},{default:b(()=>[x(Ye,P(o.$attrs,{ref:s(n),"data-state":a.value?"visible":"hidden"}),{default:b(()=>[T(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Ot=A({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),{state:a,dispatch:r}=ze("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});Ee(o=>{if(a.value==="idle"){const u=window.setTimeout(()=>r("HIDE"),e.scrollHideDelay.value);o(()=>{window.clearTimeout(u)})}});const i=Me(()=>r("SCROLL_END"),100);return Ee(o=>{const u=e.viewport.value,d=n.isHorizontal.value?"scrollLeft":"scrollTop";if(u){let v=u[d];const h=()=>{const m=u[d];v!==m&&(r("SCROLL"),i()),v=m};u.addEventListener("scroll",h),o(()=>{u.removeEventListener("scroll",h)})}}),(o,u)=>(y(),$(s(ye),{present:o.forceMount||s(a)!=="hidden"},{default:b(()=>[x(we,P(o.$attrs,{ref:s(l)}),{default:b(()=>[T(o.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[fe,zt]=ue("ScrollAreaScrollbar"),Bt=A({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,{forwardRef:n}=B(),l=H(),a=I(()=>e.orientation==="horizontal");z(a,()=>{a.value?l.onScrollbarXEnabledChange(!0):l.onScrollbarYEnabledChange(!0)},{immediate:!0}),F(()=>{l.onScrollbarXEnabledChange(!1),l.onScrollbarYEnabledChange(!1)});const{orientation:r,forceMount:i,asChild:o,as:u}=se(e);return zt({orientation:r,forceMount:i,isHorizontal:a,as:u,asChild:o}),(d,v)=>s(l).type.value==="hover"?(y(),$(Rt,P({key:0},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="scroll"?(y(),$(Ot,P({key:1},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="auto"?(y(),$(Ye,P({key:2},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="always"?(y(),$(we,P({key:3},d.$attrs,{ref:s(n),"data-state":"visible"}),{default:b(()=>[T(d.$slots,"default")]),_:3},16)):Y("",!0)}}),Ht=A({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=H(),l=de();function a(m){const k=m.target.getBoundingClientRect(),R=m.clientX-k.left,O=m.clientY-k.top;l.handleThumbDown(m,{x:R,y:O})}function r(m){l.handleThumbUp(m)}const{forwardRef:i,currentElement:o}=B(),u=g(),d=I(()=>n.viewport.value);function v(){if(!u.value){const m=It(d.value,l.onThumbPositionChange);u.value=m,l.onThumbPositionChange()}}const h=I(()=>l.sizes.value);return wt(h,()=>{l.onThumbChange(o.value),d.value&&(l.onThumbPositionChange(),d.value.addEventListener("scroll",v))}),F(()=>{var m;d.value.removeEventListener("scroll",v),(m=n.viewport.value)==null||m.removeEventListener("scroll",v)}),(m,k)=>(y(),$(s(X),{ref:s(i),"data-state":s(l).hasThumb?"visible":"hidden",style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},"as-child":e.asChild,as:m.as,onPointerdown:a,onPointerup:r},{default:b(()=>[T(m.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Vt=A({__name:"ScrollAreaCornerImpl",setup(t){const e=H(),n=g(0),l=g(0),a=I(()=>!!n.value&&!!l.value);function r(){var o;const u=((o=e.scrollbarX.value)==null?void 0:o.offsetHeight)||0;e.onCornerHeightChange(u),l.value=u}function i(){var o;const u=((o=e.scrollbarY.value)==null?void 0:o.offsetWidth)||0;e.onCornerWidthChange(u),n.value=u}return W(e.scrollbarX.value,r),W(e.scrollbarY.value,i),z(()=>e.scrollbarX.value,r),z(()=>e.scrollbarY.value,i),(o,u)=>{var d;return a.value?(y(),$(s(X),P({key:0,style:{width:`${n.value}px`,height:`${l.value}px`,position:"absolute",right:s(e).dir.value==="ltr"?0:void 0,left:s(e).dir.value==="rtl"?0:void 0,bottom:0}},(d=o.$parent)==null?void 0:d.$props),{default:b(()=>[T(o.$slots,"default")]),_:3},16,["style"])):Y("",!0)}}}),Yt=A({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=B(),l=H(),a=I(()=>!!l.scrollbarX.value&&!!l.scrollbarY.value),r=I(()=>l.type.value!=="scroll"&&a.value);return(i,o)=>r.value?(y(),$(Vt,P({key:0},e,{ref:s(n)}),{default:b(()=>[T(i.$slots,"default")]),_:3},16)):Y("",!0)}});function Ut(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}Ut();const Ie=A({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=I(()=>{const{class:l,...a}=e;return a});return(l,a)=>(y(),$(s(At),P(n.value,{class:s(nt)("relative overflow-hidden",e.class)}),{default:b(()=>[x(s(Nt),{class:"h-full w-full rounded-[inherit]"},{default:b(()=>[T(l.$slots,"default")]),_:3}),x(s(Bt),{class:"flex touch-none select-none border-l border-l-transparent p-[1px] transition-colors duration-200 ease-out data-[orientation=vertical]:w-2.5 data-[orientation=horizontal]:h-2.5 data-[orientation=horizontal]:flex-col"},{default:b(()=>[x(s(Ht),{class:"relative flex-1 rounded-full bg-border"})]),_:1}),x(s(Yt))]),_:3},16,["class"]))}}),J=g([]);let jt=0;function Wt(){const t=e=>{const n=`toast-${jt++}`;J.value.push({...e,id:n}),setTimeout(()=>{J.value=J.value.filter(l=>l.id!==n)},5e3)};return F(()=>{J.value=[]}),{toasts:J,toast:t}}const Xt={class:"flex h-[calc(100vh-4rem)] bg-background"},Ft={class:"w-1/4 border-r bg-card dark:border-border flex flex-col"},qt={class:"p-4 border-b dark:border-border"},Gt={class:"mt-4 flex items-center space-x-2"},Jt={class:"divide-y dark:divide-border"},Kt=["onClick"],Qt={class:"flex items-center space-x-3"},Zt={class:"font-medium text-foreground"},en={class:"text-sm text-muted-foreground"},tn={class:"flex-grow flex flex-col bg-background"},nn={key:0,class:"p-4 border-b dark:border-border flex justify-between items-center"},ln={class:"flex items-center space-x-3"},an={class:"font-medium text-foreground"},rn={class:"text-sm text-muted-foreground"},on={key:1,class:"p-4 border-b dark:border-border"},sn={class:"space-y-6"},un={key:0,class:"text-sm"},cn={key:1,class:"mt-2"},dn=["innerHTML"],fn={key:0,class:"ml-1"},vn={key:1,class:"ml-1"},pn={key:2,class:"p-4 border-t dark:border-border"},mn={key:0,class:"mb-2 p-2 border rounded-md bg-accent flex items-center justify-between"},hn={class:"flex items-center gap-2"},bn=["src"],gn={key:1,class:"text-xl"},_n={class:"relative"},yn={class:"absolute inset-y-0 right-0 flex items-center"},wn={for:"attachment-input",class:"cursor-pointer p-2"},xn={key:3,class:"p-4 border-t dark:border-border text-center text-muted-foreground"},Sn=A({__name:"Index",props:{auth:{},conversations:{},selectedConversation:{},messages:{},filters:{}},setup(t){var Se;const e=t,n=lt(),{toast:l}=Wt(),a=g(e.conversations),r=g(e.selectedConversation),i=g(e.messages),o=g(""),u=g(null),d=g(null),v=g(null),h=g(e.filters.search||""),m=at({receiver_id:((Se=r.value)==null?void 0:Se.id)||null,message:"",attachment:null});z(()=>e.conversations,p=>{a.value=p}),z(()=>e.selectedConversation,p=>{r.value=p,m.receiver_id=(p==null?void 0:p.id)||null}),z(()=>e.messages,p=>{i.value=p,ge(k)}),z(o,p=>{m.message=p});const k=()=>{v.value&&v.value.scrollIntoView({behavior:"smooth"})},R=p=>{window.location.href=route("admin.messages.index",p)},O=p=>{const E=p.target;if(E.files&&E.files[0]){const U=E.files[0];if(u.value=U,m.attachment=U,U.type.startsWith("image/")){const q=new FileReader;q.onload=K=>{var w;d.value=(w=K.target)==null?void 0:w.result},q.readAsDataURL(U)}else d.value=null}else u.value=null,m.attachment=null,d.value=null},S=()=>{u.value=null,m.attachment=null,d.value=null;const p=document.getElementById("attachment-input");p&&(p.value="")},c=()=>{if(!m.message&&!m.attachment){l({title:"Cannot send empty message",description:"Please type a message or attach a file.",variant:"destructive"});return}m.post(route("admin.messages.store"),{preserveScroll:!0,onSuccess:()=>{var p;o.value="",S(),window.location.href=route("admin.messages.index",(p=r.value)==null?void 0:p.id)},onError:p=>{console.error("Message send error:",p),l({title:"Failed to send message",description:p.message||"An unknown error occurred.",variant:"destructive"})}})},_=p=>{const E=new Date(p);return vt(E)?ve(E,"p"):mt(E)?"Yesterday "+ve(E,"p"):ve(E,"MMM d, yyyy p")},f=p=>p.sender_id===n.props.auth.user.id,D=p=>{window.open(route("admin.messages.download",p),"_blank")},L=()=>{window.location.href=route("admin.messages.index",{search:h.value})},xe=p=>p?p.startsWith("image/")?"🖼️":p.includes("pdf")?"📄":p.includes("wordprocessingml")||p.includes("msword")?"📝":p.includes("spreadsheetml")||p.includes("excel")?"📊":p.includes("text/plain")?"📄":"📎":"📎",Ue=p=>{var E;return(E=p.attachment_mime_type)!=null&&E.startsWith("image/")?`<img src="${p.attachment_url}" alt="${p.attachment_filename}" class="max-w-xs max-h-48 rounded-lg object-cover" />`:`<div class="flex items-center gap-2 p-2 border rounded-md bg-gray-50 dark:bg-gray-700">
            <span class="text-xl">${xe(p.attachment_mime_type)}</span>
            <span>${p.attachment_filename}</span>
          </div>`};return(p,E)=>{var U,q,K;return y(),N("div",Xt,[C("div",Ft,[C("div",qt,[E[3]||(E[3]=C("h2",{class:"text-xl font-semibold text-foreground"},"Conversations",-1)),C("div",Gt,[x(s(pe),{modelValue:h.value,"onUpdate:modelValue":E[0]||(E[0]=w=>h.value=w),placeholder:"Search users...",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5",onKeyup:$e(L,["enter"])},null,8,["modelValue"]),x(s(G),{onClick:L},{default:b(()=>E[2]||(E[2]=[V("Search",-1)])),_:1,__:[2]})])]),x(s(Ie),{class:"flex-grow overflow-y-auto"},{default:b(()=>[C("ul",Jt,[(y(!0),N(re,null,ke(a.value,w=>(y(),N("li",{key:w.id,class:Q(["p-4 cursor-pointer hover:bg-accent",{"bg-primary/10":r.value&&r.value.id===w.id}]),onClick:je=>R(w.id)},[C("div",Qt,[x(s(Z),null,{default:b(()=>[x(s(ee),{src:w.profile_photo_url,alt:w.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[V(M(w.name.charAt(0)),1)]),_:2},1024)]),_:2},1024),C("div",null,[C("p",Zt,M(w.name),1),C("p",en,M(w.email),1)])])],10,Kt))),128))])]),_:1})]),C("div",tn,[r.value?(y(),N("div",nn,[C("div",ln,[x(s(Z),null,{default:b(()=>[x(s(ee),{src:r.value.profile_photo_url,alt:r.value.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[V(M(r.value.name.charAt(0)),1)]),_:1})]),_:1}),C("div",null,[C("p",an,M(r.value.name),1),C("p",rn,M(r.value.email),1)])]),x(s(G),{variant:"ghost",size:"icon"},{default:b(()=>[x(s(rt),{class:"h-5 w-5"})]),_:1})])):(y(),N("div",on,E[4]||(E[4]=[C("h2",{class:"text-xl font-semibold text-foreground"}," Select a Conversation ",-1)]))),x(s(Ie),{class:"flex-grow p-6 overflow-y-auto custom-scrollbar"},{default:b(()=>[C("div",sn,[(y(!0),N(re,null,ke(i.value,w=>(y(),N("div",{key:w.id,class:Q(["flex items-end gap-2",f(w)?"justify-end":"justify-start"])},[f(w)?Y("",!0):(y(),$(s(Z),{key:0,class:"h-8 w-8"},{default:b(()=>[x(s(ee),{src:w.sender.profile_photo_url,alt:w.sender.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[V(M(w.sender.name.charAt(0)),1)]),_:2},1024)]),_:2},1024)),C("div",{class:Q(["max-w-lg p-3 rounded-2xl",f(w)?"bg-primary text-primary-foreground rounded-br-none":"bg-secondary text-secondary-foreground rounded-bl-none"])},[w.message?(y(),N("div",un,M(w.message),1)):Y("",!0),w.attachment_path?(y(),N("div",cn,[C("div",{innerHTML:Ue(w)},null,8,dn),x(s(G),{variant:"link",class:"text-xs p-0 h-auto mt-1",onClick:je=>D(w.id)},{default:b(()=>[x(s(ut),{class:"h-3 w-3 mr-1"}),V(" Download "+M(w.attachment_filename),1)]),_:2},1032,["onClick"])])):Y("",!0),C("div",{class:Q(["text-xs mt-1",f(w)?"text-primary-foreground/70":"text-muted-foreground"])},[V(M(_(w.created_at))+" ",1),f(w)&&w.read_at?(y(),N("span",fn,[x(s(dt),{class:"h-3 w-3 inline-block"})])):f(w)?(y(),N("span",vn,[x(s(ct),{class:"h-3 w-3 inline-block"})])):Y("",!0)],2)],2),f(w)?(y(),$(s(Z),{key:1,class:"h-8 w-8"},{default:b(()=>[x(s(ee),{src:s(n).props.auth.user.profile_photo_url,alt:s(n).props.auth.user.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[V(M(s(n).props.auth.user.name.charAt(0)),1)]),_:1})]),_:1})):Y("",!0)],2))),128)),C("div",{ref_key:"messagesEndRef",ref:v},null,512)])]),_:1}),r.value?(y(),N("div",pn,[d.value?(y(),N("div",mn,[C("div",hn,[(U=u.value)!=null&&U.type.startsWith("image/")?(y(),N("img",{key:0,src:d.value,class:"h-16 w-16 object-cover rounded-md"},null,8,bn)):(y(),N("span",gn,M(xe(((q=u.value)==null?void 0:q.type)||"")),1)),C("span",null,M((K=u.value)==null?void 0:K.name),1)]),x(s(G),{variant:"ghost",size:"sm",onClick:S},{default:b(()=>E[5]||(E[5]=[V("X",-1)])),_:1,__:[5]})])):Y("",!0),C("div",_n,[x(s(pe),{modelValue:o.value,"onUpdate:modelValue":E[1]||(E[1]=w=>o.value=w),placeholder:"Type your message...",class:"pr-20",onKeyup:$e(c,["enter"])},null,8,["modelValue"]),C("div",yn,[C("label",wn,[x(s(ot),{class:"h-5 w-5 text-muted-foreground hover:text-foreground"}),x(s(pe),{id:"attachment-input",type:"file",class:"hidden",onChange:O})]),x(s(G),{onClick:c,disabled:s(m).processing,size:"icon",class:"mr-2"},{default:b(()=>[x(s(st),{class:"h-5 w-5"})]),_:1},8,["disabled"])])])])):(y(),N("div",xn," Select a conversation to start messaging. "))])])}}}),An=it(Sn,[["__scopeId","data-v-242f9a9e"]]);export{An as default};
