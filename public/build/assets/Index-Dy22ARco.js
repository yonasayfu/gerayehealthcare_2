import{d as k,u as g,c as l,o,a as p,b as n,h,w as b,e as t,x as D,y as u,f as w,j as c,k as x,F as f,r as v,t as d,_ as C,s as S,E as N}from"./app-B0DqkaDV.js";import{_ as M}from"./Pagination.vue_vue_type_script_setup_true_lang-CaJUPFfQ.js";const V={class:"p-6 space-y-6 bg-white rounded-lg shadow"},B=["disabled"],T={class:"w-full text-left text-sm"},F={class:"px-4 py-2"},I={class:"px-4 py-2"},$={class:"px-4 py-2"},j={class:"px-4 py-2 text-right"},A=["onClick"],E={key:1,class:"text-gray-500 italic"},L={key:0},U=k({__name:"Index",props:{taskDelegations:{},filters:{}},setup(_){const r=_,a=g({title:"",due_date:"",notes:""});function m(){a.post(route("staff.task-delegations.store"),{preserveScroll:!0,onSuccess:()=>a.reset()})}function y(i){S.patch(route("staff.task-delegations.update",{task_delegation:i}),{status:"Completed"},{preserveState:!1,preserveScroll:!0})}return(i,e)=>(o(),l(f,null,[p(n(h),{title:"My Tasks"}),p(C,null,{default:b(()=>[t("section",V,[e[4]||(e[4]=t("h1",{class:"text-xl font-semibold"},"My Tasks",-1)),t("form",{onSubmit:w(m,["prevent"]),class:"flex gap-2"},[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(a).title=s),placeholder:"New task titleâ€¦",class:"flex-1 rounded border px-3 py-2"},null,512),[[x,n(a).title]]),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>n(a).due_date=s),class:"rounded border px-3 py-2"},null,512),[[x,n(a).due_date]]),t("button",{type:"submit",disabled:n(a).processing,class:"bg-cyan-600 text-white px-4 py-2 rounded hover:bg-cyan-700"}," Add ",8,B)],32),t("table",T,[e[3]||(e[3]=t("thead",{class:"bg-gray-100 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Title"),t("th",{class:"px-4 py-2"},"Due"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2 text-right"},"Action")])],-1)),t("tbody",null,[(o(!0),l(f,null,v(r.taskDelegations.data,s=>(o(),l("tr",{key:s.id,class:"border-t"},[t("td",F,d(s.title),1),t("td",I,d(new Date(s.due_date).toLocaleDateString()),1),t("td",$,d(s.status),1),t("td",j,[s.status!=="Completed"?(o(),l("button",{key:0,onClick:q=>y(s.id),class:"text-green-600 hover:underline"}," Mark Done ",8,A)):(o(),l("span",E,"Completed"))])]))),128)),r.taskDelegations.data.length?u("",!0):(o(),l("tr",L,e[2]||(e[2]=[t("td",{colspan:"4",class:"py-6 text-center text-muted-foreground"}," No tasks assigned. ",-1)])))])]),r.taskDelegations.links.length>1?(o(),D(M,{key:0,links:r.taskDelegations.links,class:"mt-4 flex justify-center"},null,8,["links"])):u("",!0)])]),_:1})],64))}}),H=N(U,[["__scopeId","data-v-4f3872cb"]]);export{H as default};
