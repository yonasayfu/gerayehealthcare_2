import{s as k,u as y,f as l,g as a,i as p,j as r,k as h,w as b,l as t,E as D,q as u,x as v,p as c,v as m,F as x,m as w,t as i,D as C}from"./vendor-BwD25tKZ.js";import{_ as S}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import{_ as N}from"./Pagination.vue_vue_type_script_setup_true_lang-DAC70Nby.js";import{c as M}from"./constructNow-B9pLeBHj.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./VisuallyHidden-C1CaS35V.js";import"./Primitive-BSXjhaNq.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./debounce-Cwa4SNQ2.js";import"./app-Bm08FwIe.js";import"./format-BcfG6MxF.js";const V={class:"p-6 space-y-6 bg-white rounded-lg shadow"},B=["disabled"],T={class:"w-full text-left text-sm"},F={class:"px-4 py-2"},I={class:"px-4 py-2"},$={class:"px-4 py-2"},j={class:"px-4 py-2 text-right"},A=["onClick"],E={key:1,class:"text-gray-500 italic"},L={key:0},U=k({__name:"Index",props:{taskDelegations:{},filters:{}},setup(f){const n=f,o=y({title:"",due_date:"",notes:""});function _(){o.post(route("staff.task-delegations.store"),{preserveScroll:!0,onSuccess:()=>o.reset()})}function g(d){C.patch(route("staff.task-delegations.update",{task_delegation:d}),{status:"Completed"},{preserveState:!1,preserveScroll:!0})}return(d,e)=>(a(),l(x,null,[p(r(h),{title:"My Tasks"}),p(S,null,{default:b(()=>[t("section",V,[e[4]||(e[4]=t("h1",{class:"text-xl font-semibold"},"My Tasks",-1)),t("form",{onSubmit:v(_,["prevent"]),class:"flex gap-2"},[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r(o).title=s),placeholder:"New task titleâ€¦",class:"flex-1 rounded border px-3 py-2"},null,512),[[m,r(o).title]]),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>r(o).due_date=s),class:"rounded border px-3 py-2"},null,512),[[m,r(o).due_date]]),t("button",{type:"submit",disabled:r(o).processing,class:"bg-cyan-600 text-white px-4 py-2 rounded hover:bg-cyan-700"}," Add ",8,B)],32),t("table",T,[e[3]||(e[3]=t("thead",{class:"bg-gray-100 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Title"),t("th",{class:"px-4 py-2"},"Due"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2 text-right"},"Action")])],-1)),t("tbody",null,[(a(!0),l(x,null,w(n.taskDelegations.data,s=>(a(),l("tr",{key:s.id,class:"border-t"},[t("td",F,i(s.title),1),t("td",I,i(new Date(s.due_date).toLocaleDateString()),1),t("td",$,i(s.status),1),t("td",j,[s.status!=="Completed"?(a(),l("button",{key:0,onClick:q=>g(s.id),class:"text-green-600 hover:underline"}," Mark Done ",8,A)):(a(),l("span",E,"Completed"))])]))),128)),n.taskDelegations.data.length?u("",!0):(a(),l("tr",L,[...e[2]||(e[2]=[t("td",{colspan:"4",class:"py-6 text-center text-muted-foreground"}," No tasks assigned. ",-1)])]))])]),n.taskDelegations.links.length>1?(a(),D(N,{key:0,links:n.taskDelegations.links,class:"mt-4 flex justify-center"},null,8,["links"])):u("",!0)])]),_:1})],64))}}),ot=M(U,[["__scopeId","data-v-4f3872cb"]]);export{ot as default};
