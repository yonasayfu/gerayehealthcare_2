import{d as C,k as y,l as M,Q as h,c as o,o as a,a as l,u as n,g as U,w as m,b as e,i as b,S as c,e as v,h as w,n as j,v as N,F as i,r as g,t as f,m as T,p as A}from"./app-B9ZmK4zT.js";import{_ as V}from"./AppLayout.vue_vue_type_style_index_0_lang-15zqV9G-.js";import{d as B}from"./debounce-DetcGv2t.js";import{c as L}from"./index-C8zLWs5I.js";import{P}from"./pen-line-l5oGmSQv.js";import{T as z}from"./trash-2-CoGP5DlO.js";import"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import"./createContext-fsEdSFMX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KsBcTmDK.js";import"./RovingFocusGroup-CCdiS5NK.js";import"./_plugin-vue_export-helper-BpSdtWAT.js";import"./format-BigqMyrM.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=L("ShieldIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),I={class:"p-6 space-y-6"},E={class:"flex items-center justify-between"},F={class:"flex flex-col md:flex-row justify-between items-center gap-4"},H={class:"relative w-full md:w-1/3"},Q={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},R={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200"},$={class:"px-6 py-4 font-medium"},q={class:"px-6 py-4 text-gray-500"},G={class:"px-6 py-4"},J={class:"flex flex-wrap gap-2"},K={class:"px-6 py-4 text-right"},O={class:"inline-flex items-center justify-end space-x-2"},W=["onClick"],X={key:0},Y={key:0,class:"flex justify-end"},Z={class:"flex items-center space-x-1"},me=C({__name:"Index",props:{users:{},filters:{}},setup(k){const x=k,_=[{title:"Dashboard",href:route("dashboard")},{title:"User Management",href:route("admin.users.index")}],u=y(x.filters.search||""),p=y(x.filters.per_page||"5");M([u,p],B(r=>{h.get(route("admin.users.index"),{search:r[0],per_page:r[1]},{preserveState:!0,replace:!0})},300));function S(r){confirm("Are you sure you want to delete this user? This will also delete their associated staff profile.")&&h.delete(route("admin.users.destroy",r),{preserveScroll:!0})}return(r,t)=>(a(),o(i,null,[l(n(U),{title:"User Management"}),l(V,{breadcrumbs:_},{default:m(()=>[e("div",I,[e("div",E,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"User Management"),e("p",{class:"text-sm text-muted-foreground"},"Assign roles and manage all system users.")],-1)),l(n(c),{href:r.route("admin.users.create"),class:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg text-sm shadow-md"},{default:m(()=>t[2]||(t[2]=[v(" + Add New Staff User ")])),_:1,__:[2]},8,["href"])]),e("div",F,[e("div",H,[w(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:"Search by name or email...",class:"form-input w-full rounded-md border-gray-300 pl-10 pr-4 py-2 text-sm shadow-sm"},null,512),[[j,u.value]]),t[4]||(t[4]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.65-1.85z"})],-1))]),e("div",null,[t[6]||(t[6]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Items per page:",-1)),w(e("select",{id:"perPage","onUpdate:modelValue":t[1]||(t[1]=s=>p.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 text-sm"},t[5]||(t[5]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),512),[[N,p.value]])])]),e("div",Q,[e("table",R,[t[8]||(t[8]=e("thead",{class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground"},[e("tr",null,[e("th",{class:"px-6 py-3"},"User Name"),e("th",{class:"px-6 py-3"},"Email"),e("th",{class:"px-6 py-3"},"Assigned Roles"),e("th",{class:"px-6 py-3 text-right"},"Actions")])],-1)),e("tbody",null,[(a(!0),o(i,null,g(r.users.data,s=>(a(),o("tr",{key:s.id,class:"border-b dark:border-gray-700"},[e("td",$,f(s.name),1),e("td",q,f(s.email),1),e("td",G,[e("div",J,[(a(!0),o(i,null,g(s.roles,d=>(a(),o("span",{key:d.id,class:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-semibold rounded-full dark:bg-indigo-900 dark:text-indigo-200"},[l(n(D),{class:"h-3 w-3"}),v(" "+f(d.name),1)]))),128))])]),e("td",K,[e("div",O,[l(n(c),{href:r.route("admin.users.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-blue-100 dark:hover:bg-gray-700",title:"Edit Role"},{default:m(()=>[l(n(P),{class:"w-4 h-4 text-blue-600"})]),_:2},1032,["href"]),e("button",{onClick:d=>S(s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-red-100 dark:hover:bg-gray-700",title:"Delete User"},[l(n(z),{class:"w-4 h-4 text-red-600"})],8,W)])])]))),128)),r.users.data.length===0?(a(),o("tr",X,t[7]||(t[7]=[e("td",{colspan:"4",class:"text-center px-6 py-4 text-gray-400"},"No users found.",-1)]))):b("",!0)])])]),r.users.links.length>3?(a(),o("div",Y,[e("div",Z,[(a(!0),o(i,null,g(r.users.links,(s,d)=>(a(),T(n(c),{key:d,href:s.url||"#",innerHTML:s.label,class:A(["px-3 py-1 rounded-md text-sm",s.active?"bg-primary-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700",!s.url&&"cursor-not-allowed text-gray-400"]),disabled:!s.url},null,8,["href","innerHTML","class","disabled"]))),128))])])):b("",!0)])]),_:1})],64))}});export{me as default};
