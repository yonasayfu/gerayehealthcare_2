import{s as F,r as o,A as $,C as M,D as G,f as p,g as d,i as r,j as n,k as H,w as h,l as e,E as J,q as A,z as C,G as K,P as O,p as k,v as Q,S as R,F as w,m as _,t as l,B as D,n as m,H as g,I as W,J as X,T as Y}from"./vendor-BwD25tKZ.js";import{c as Z}from"./confirm-BCahKa7A.js";import{_ as tt}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import{d as et}from"./debounce-Cwa4SNQ2.js";import{_ as st}from"./Pagination.vue_vue_type_script_setup_true_lang-DAC70Nby.js";import{u as at}from"./useExport-KzMMF8q8.js";import{f as E}from"./format-BcfG6MxF.js";import"./charts-DOEJufVb.js";import"./constructNow-B9pLeBHj.js";import"./utils-CBfrqCZ4.js";import"./useForwardExpose-G3tvssmS.js";import"./Primitive-BSXjhaNq.js";import"./createContext-BqFVO7-m.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./app-Bm08FwIe.js";const nt={class:"space-y-6 p-6 print:p-0 print:space-y-0"},rt={class:"liquidGlass-wrapper print:hidden"},it={class:"liquidGlass-content flex items-center justify-between p-4 gap-4"},ot={class:"flex items-center gap-2 print:hidden"},lt={class:"flex flex-col md:flex-row justify-between items-center gap-4 print:hidden"},dt={class:"search-glass relative w-full md:w-1/3"},pt={class:"flex gap-4"},ut=["value"],mt=["value"],gt={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg print:shadow-none print:rounded-none print:bg-transparent"},ct={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200 print-table"},yt={class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground print-table-header"},ft={class:"px-6 py-4"},xt={class:"px-6 py-4"},vt={class:"px-6 py-4"},bt={class:"px-6 py-4"},ht={class:"px-6 py-4"},kt={class:"px-6 py-4"},wt={class:"px-6 py-4"},Ct={class:"px-6 py-4 text-right print:hidden"},_t={class:"inline-flex items-center justify-end space-x-2"},Dt={key:0},Pt={class:"print:block text-center mt-4 text-sm text-gray-500 print-footer"},Kt=F({__name:"Index",props:{campaignContents:{},campaigns:{},platforms:{},filters:{}},setup(j){const i=j,N=[{title:"Dashboard",href:route("dashboard")},{title:"Campaign Contents",href:route("admin.campaign-contents.index")}],f=o(i.filters.search||""),c=o(i.filters.sort||""),y=o(i.filters.direction||"asc"),x=o(i.filters.per_page||5),v=o(i.filters.campaign_id||""),b=o(i.filters.platform_id||""),P=o(i.filters.content_type||""),S=o(i.filters.status||""),V=o(i.filters.scheduled_post_date_start||""),T=o(i.filters.scheduled_post_date_end||""),B=$(()=>E(new Date,"PPP p")),I=$(()=>(i.campaignContents.current_page-1)*i.campaignContents.per_page);M([f,c,y,x,v,b,P,S,V,T],et(()=>{const a={search:f.value,direction:y.value,per_page:x.value,campaign_id:v.value,platform_id:b.value,content_type:P.value,status:S.value,scheduled_post_date_start:V.value,scheduled_post_date_end:T.value};c.value&&(a.sort=c.value),G.get(route("admin.campaign-contents.index"),a,{preserveState:!0,replace:!0})},500));async function U(a){await Z({title:"Delete Campaign Content",message:"Are you sure you want to delete this campaign content?",confirmText:"Delete",cancelText:"Cancel"})&&G.delete(route("admin.campaign-contents.destroy",a))}const{exportData:q}=at({routeName:"admin.campaign-contents",filters:i.filters});function L(){setTimeout(()=>window.print(),50)}function u(a){c.value===a?y.value=y.value==="asc"?"desc":"asc":(c.value=a,y.value="asc")}return(a,t)=>(d(),p(w,null,[r(n(H),{title:"Campaign Contents"}),r(tt,{breadcrumbs:N},{default:h(()=>[e("div",nt,[e("div",rt,[t[16]||(t[16]=e("div",{class:"liquidGlass-inner-shine","aria-hidden":"true"},null,-1)),e("div",it,[t[15]||(t[15]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"print:hidden"},[e("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Campaign Contents"),e("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Manage campaign contents")])],-1)),e("div",ot,[r(n(C),{href:a.route("admin.campaign-contents.create"),class:"btn-glass"},{default:h(()=>[...t[12]||(t[12]=[e("span",null,"Add Campaign Content",-1)])]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=s=>n(q)("csv")),class:"btn-glass btn-glass-sm"},[r(n(K),{class:"icon"}),t[13]||(t[13]=e("span",{class:"hidden sm:inline"},"Export CSV",-1))]),e("button",{onClick:L,class:"btn-glass btn-glass-sm"},[r(n(O),{class:"icon"}),t[14]||(t[14]=e("span",{class:"hidden sm:inline"},"Print Current",-1))])])])]),e("div",lt,[e("div",dt,[k(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),type:"text",placeholder:"Search campaign contents...",class:"shadow-sm bg-white border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full pl-3 pr-10 py-2.5 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-gray-100 relative z-10"},null,512),[[Q,f.value]]),r(n(R),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 text-gray-400 dark:text-gray-400 z-20"})]),e("div",pt,[k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},[t[17]||(t[17]=e("option",{value:""},"All Campaigns",-1)),(d(!0),p(w,null,_(a.campaigns,s=>(d(),p("option",{key:s.id,value:s.id},l(s.campaign_name),9,ut))),128))],512),[[D,v.value]]),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},[t[18]||(t[18]=e("option",{value:""},"All Platforms",-1)),(d(!0),p(w,null,_(a.platforms,s=>(d(),p("option",{key:s.id,value:s.id},l(s.name),9,mt))),128))],512),[[D,b.value]])]),e("div",null,[t[20]||(t[20]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Pagination per page:",-1)),k(e("select",{id:"perPage","onUpdate:modelValue":t[4]||(t[4]=s=>x.value=s),class:"rounded-md border-gray-300 bg-white text-gray-900 sm:text-sm px-2 py-1 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"},[...t[19]||(t[19]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],512),[[D,x.value]])])]),e("div",gt,[t[30]||(t[30]=e("div",{class:"hidden print:block text-center mb-4 print:mb-2 print-header-content"},[e("img",{src:"/images/geraye_logo.jpeg",alt:"Geraye Logo",class:"print-logo"}),e("h1",{class:"font-bold text-gray-800 dark:text-white print-clinic-name"},"Geraye Home Care Services"),e("p",{class:"text-gray-600 dark:text-gray-400 print-document-title"},"Campaign Contents List (Current View)"),e("hr",{class:"my-3 border-gray-300 print:my-2"})],-1)),e("table",ct,[e("thead",yt,[e("tr",null,[t[27]||(t[27]=e("th",{class:"px-6 py-3"},"#",-1)),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[5]||(t[5]=s=>u("title"))},[t[21]||(t[21]=m(" Title ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[6]||(t[6]=s=>u("campaign_id"))},[t[22]||(t[22]=m(" Campaign ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[7]||(t[7]=s=>u("platform_id"))},[t[23]||(t[23]=m(" Platform ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[8]||(t[8]=s=>u("content_type"))},[t[24]||(t[24]=m(" Type ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[9]||(t[9]=s=>u("status"))},[t[25]||(t[25]=m(" Status ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[10]||(t[10]=s=>u("scheduled_post_date"))},[t[26]||(t[26]=m(" Scheduled Post Date ",-1)),r(n(g),{class:"inline w-4 h-4 ml-1 print:hidden"})]),t[28]||(t[28]=e("th",{class:"px-6 py-3 text-right print:hidden"},"Actions",-1))])]),e("tbody",null,[(d(!0),p(w,null,_(a.campaignContents.data,(s,z)=>(d(),p("tr",{key:s.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 print-table-row"},[e("td",ft,l(I.value+z+1),1),e("td",xt,l(s.title),1),e("td",vt,l(s.campaign?.campaign_name??"-"),1),e("td",bt,l(s.platform?.name??"-"),1),e("td",ht,l(s.content_type??"-"),1),e("td",kt,l(s.status??"-"),1),e("td",wt,l(s.scheduled_post_date?n(E)(new Date(s.scheduled_post_date),"PPP p"):"-"),1),e("td",Ct,[e("div",_t,[r(n(C),{href:a.route("admin.campaign-contents.show",a.item.id),class:"inline-flex items-center p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",title:"View Details"},{default:h(()=>[r(n(W),{class:"w-4 h-4"})]),_:1},8,["href"]),r(n(C),{href:a.route("admin.campaign-contents.edit",a.item.id),class:"inline-flex items-center p-2 rounded-md text-blue-600 hover:bg-blue-50 dark:text-blue-300 dark:hover:bg-gray-700",title:"Edit"},{default:h(()=>[r(n(X),{class:"w-4 h-4"})]),_:1},8,["href"]),e("button",{onClick:t[11]||(t[11]=St=>U(a.item.id)),class:"inline-flex items-center p-2 rounded-md text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-gray-700",title:"Delete"},[r(n(Y),{class:"w-4 h-4"})])])])]))),128)),a.campaignContents.data.length===0?(d(),p("tr",Dt,[...t[29]||(t[29]=[e("td",{colspan:"7",class:"text-center px-6 py-4 text-gray-400"},"No campaign contents found.",-1)])])):A("",!0)])])]),a.campaignContents.data.length>0?(d(),J(st,{key:0,links:a.campaignContents.links,class:"mt-6 flex justify-center print:hidden"},null,8,["links"])):A("",!0),e("div",Pt,[t[31]||(t[31]=e("hr",{class:"my-2 border-gray-300"},null,-1)),e("p",null,"Document Generated: "+l(B.value),1)])])]),_:1})],64))}});export{Kt as default};
