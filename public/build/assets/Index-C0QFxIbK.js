import{d as y,x as k,c as l,o,a as p,u as n,g as h,w as b,b as t,p as D,q as u,e as w,i as c,j as x,F as _,r as v,t as d,_ as C,Q as S,D as N}from"./app-CKJLXAx0.js";import{_ as M}from"./Pagination.vue_vue_type_script_setup_true_lang-CyfsrxX9.js";const V={class:"p-6 space-y-6 bg-white rounded-lg shadow"},B=["disabled"],T={class:"w-full text-left text-sm"},I={class:"px-4 py-2"},$={class:"px-4 py-2"},j={class:"px-4 py-2"},A={class:"px-4 py-2 text-right"},F=["onClick"],L={key:1,class:"text-gray-500 italic"},Q={key:0},U=y({__name:"Index",props:{taskDelegations:{},filters:{}},setup(f){const r=f,a=k({title:"",due_date:"",notes:""});function g(){a.post(route("staff.task-delegations.store"),{preserveScroll:!0,onSuccess:()=>a.reset()})}function m(i){S.patch(route("staff.task-delegations.update",{task_delegation:i}),{status:"Completed"},{preserveState:!1,preserveScroll:!0})}return(i,e)=>(o(),l(_,null,[p(n(h),{title:"My Tasks"}),p(C,null,{default:b(()=>[t("section",V,[e[4]||(e[4]=t("h1",{class:"text-xl font-semibold"},"My Tasks",-1)),t("form",{onSubmit:w(g,["prevent"]),class:"flex gap-2"},[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(a).title=s),placeholder:"New task titleâ€¦",class:"flex-1 rounded border px-3 py-2"},null,512),[[x,n(a).title]]),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>n(a).due_date=s),class:"rounded border px-3 py-2"},null,512),[[x,n(a).due_date]]),t("button",{type:"submit",disabled:n(a).processing,class:"bg-cyan-600 text-white px-4 py-2 rounded hover:bg-cyan-700"}," Add ",8,B)],32),t("table",T,[e[3]||(e[3]=t("thead",{class:"bg-gray-100 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Title"),t("th",{class:"px-4 py-2"},"Due"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2 text-right"},"Action")])],-1)),t("tbody",null,[(o(!0),l(_,null,v(r.taskDelegations.data,s=>(o(),l("tr",{key:s.id,class:"border-t"},[t("td",I,d(s.title),1),t("td",$,d(new Date(s.due_date).toLocaleDateString()),1),t("td",j,d(s.status),1),t("td",A,[s.status!=="Completed"?(o(),l("button",{key:0,onClick:q=>m(s.id),class:"text-green-600 hover:underline"}," Mark Done ",8,F)):(o(),l("span",L,"Completed"))])]))),128)),r.taskDelegations.data.length?u("",!0):(o(),l("tr",Q,e[2]||(e[2]=[t("td",{colspan:"4",class:"py-6 text-center text-muted-foreground"}," No tasks assigned. ",-1)])))])]),r.taskDelegations.links.length>1?(o(),D(M,{key:0,links:r.taskDelegations.links,class:"mt-4 flex justify-center"},null,8,["links"])):u("",!0)])]),_:1})],64))}}),G=N(U,[["__scopeId","data-v-4f3872cb"]]);export{G as default};
