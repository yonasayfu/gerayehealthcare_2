import{B as N,d as B,k as g,p as z,q as L,Q as P,c as i,o,a,u as l,g as E,w as m,b as e,S as y,i as h,f as v,h as I,v as S,y as u,F as V,r as T,t as x,n as U,az as C,s as q,j as F,m as Q}from"./app-Bi-ReHGZ.js";import{_ as G}from"./Pagination.vue_vue_type_script_setup_true_lang-JQTJzTZ6.js";import{P as H}from"./plus-C_t1T2W3.js";import{A}from"./arrow-up-down-_laHb8jA.js";import{E as J}from"./eye-DYgGYgdY.js";import{P as K}from"./pen-line-B5gFu49T.js";import{T as O}from"./trash-2-Dd-0aVDL.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=N("MapPinIcon",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),W={class:"space-y-6 p-6"},X={class:"rounded-lg bg-muted/40 p-4 shadow-sm flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Y={class:"flex flex-wrap gap-2"},Z={class:"flex flex-col md:flex-row justify-between items-center gap-4"},ee={class:"relative w-full md:w-1/3"},te={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},se={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200"},re={class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground"},ae={class:"px-6 py-4"},le={class:"px-6 py-4"},oe={class:"px-6 py-4"},ie={class:"px-6 py-4"},ne={class:"px-6 py-4"},de={class:"flex items-center space-x-2"},ue=["href"],ce=["href"],pe={class:"px-6 py-4"},fe=["href"],ge={class:"px-6 py-4 text-right"},me={class:"inline-flex items-center justify-end space-x-2"},xe=["onClick"],ye={key:0},he={class:"flex justify-between items-center mt-6"},ve={class:"flex items-center gap-2"},Ae=B({__name:"Index",props:{visitServices:{},filters:{}},setup(M){var w,_;const c=M,j=[{title:"Dashboard",href:route("dashboard")},{title:"Visit Services",href:route("admin.visit-services.index")}],p=g(c.filters.search||""),f=g(c.filters.sort_by||"scheduled_at"),d=g(c.filters.sort_direction||"desc"),n=g(((_=(w=c.visitServices)==null?void 0:w.meta)==null?void 0:_.per_page)||10);z([p,f,d,n],L(()=>{P.get(route("admin.visit-services.index"),{search:p.value,sort_by:f.value,sort_direction:d.value,per_page:n.value},{preserveState:!0,replace:!0})},300));function D(r){confirm("Are you sure you want to cancel this visit?")&&P.delete(route("admin.visit-services.destroy",r),{preserveScroll:!0})}function b(r){f.value===r?d.value=d.value==="asc"?"desc":"asc":(f.value=r,d.value="asc")}const $=r=>r?Q(new Date(r),"MMM dd, yyyy, hh:mm a"):"N/A";return(r,t)=>(o(),i(V,null,[a(l(E),{title:"Visit Services"}),a(F,{breadcrumbs:j},{default:m(()=>[e("div",W,[e("div",X,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Visit Services"),e("p",{class:"text-sm text-muted-foreground"},"Manage all scheduled patient visits.")],-1)),e("div",Y,[a(l(y),{href:r.route("admin.visit-services.create"),class:"inline-flex items-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm px-4 py-2 rounded-md transition"},{default:m(()=>[a(l(H),{class:"h-4 w-4"}),t[5]||(t[5]=h(" Schedule Visit "))]),_:1,__:[5]},8,["href"])])]),e("div",Z,[e("div",ee,[v(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),placeholder:"Search by Patient or Staff...",class:"form-input w-full rounded-md border border-gray-300 pl-10 pr-4 py-2 text-sm shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none dark:bg-gray-900 dark:text-gray-100"},null,512),[[I,p.value]]),t[7]||(t[7]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400",xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.65-1.85z"})],-1))]),e("div",null,[t[9]||(t[9]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Per Page:",-1)),v(e("select",{id:"perPage","onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},t[8]||(t[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[S,n.value]])])]),e("div",te,[e("table",se,[e("thead",re,[e("tr",null,[t[12]||(t[12]=e("th",{class:"px-6 py-3"},"Patient",-1)),t[13]||(t[13]=e("th",{class:"px-6 py-3"},"Assigned Staff",-1)),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[2]||(t[2]=s=>b("scheduled_at"))},[t[10]||(t[10]=h("Scheduled At ")),a(l(A),{class:"inline w-4 h-4 ml-1"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[3]||(t[3]=s=>b("status"))},[t[11]||(t[11]=h("Status ")),a(l(A),{class:"inline w-4 h-4 ml-1"})]),t[14]||(t[14]=e("th",{class:"px-6 py-3"},"Documents",-1)),t[15]||(t[15]=e("th",{class:"px-6 py-3"},"Location",-1)),t[16]||(t[16]=e("th",{class:"px-6 py-3 text-right"},"Actions",-1))])]),e("tbody",null,[(o(!0),i(V,null,T(r.visitServices.data,s=>{var k;return o(),i("tr",{key:s.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",ae,x(((k=s.patient)==null?void 0:k.full_name)??"N/A"),1),e("td",le,x(s.staff?`${s.staff.first_name} ${s.staff.last_name}`:"N/A"),1),e("td",oe,x($(s.scheduled_at)),1),e("td",ie,[e("span",{class:U({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-yellow-100 text-yellow-800":s.status==="Pending","bg-green-100 text-green-800":s.status==="Completed","bg-red-100 text-red-800":s.status==="Cancelled","bg-blue-100 text-blue-800":s.status==="In Progress"})},x(s.status),3)]),e("td",ne,[e("div",de,[s.prescription_file_url?(o(),i("a",{key:0,href:s.prescription_file_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-800",title:"View Prescription"},[a(l(C),{class:"w-4 h-4"})],8,ue)):u("",!0),s.vitals_file_url?(o(),i("a",{key:1,href:s.vitals_file_url,target:"_blank",class:"text-teal-600 hover:text-teal-800",title:"View Vitals"},[a(l(C),{class:"w-4 h-4"})],8,ce)):u("",!0)])]),e("td",pe,[s.check_in_latitude&&s.check_in_longitude?(o(),i("a",{key:0,href:`https://www.google.com/maps/search/?api=1&query=${s.check_in_latitude},${s.check_in_longitude}`,target:"_blank",class:"text-blue-600 hover:text-blue-800",title:"View Check-in Location"},[a(l(R),{class:"w-5 h-5"})],8,fe)):u("",!0)]),e("td",ge,[e("div",me,[a(l(y),{href:r.route("admin.visit-services.show",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",title:"View Details"},{default:m(()=>[a(l(J),{class:"w-4 h-4"})]),_:2},1032,["href"]),a(l(y),{href:r.route("admin.visit-services.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 text-blue-600",title:"Edit"},{default:m(()=>[a(l(K),{class:"w-4 h-4"})]),_:2},1032,["href"]),e("button",{onClick:be=>D(s.id),class:"text-red-600 hover:text-red-800 inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-red-100 dark:hover:bg-red-900",title:"Cancel Visit"},[a(l(O),{class:"w-4 h-4"})],8,xe)])])])}),128)),r.visitServices.data.length===0?(o(),i("tr",ye,t[17]||(t[17]=[e("td",{colspan:"7",class:"text-center px-6 py-4 text-gray-400"},"No visits found.",-1)]))):u("",!0)])])]),e("div",he,[e("div",ve,[t[19]||(t[19]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Per Page:",-1)),v(e("select",{id:"perPage","onUpdate:modelValue":t[4]||(t[4]=s=>n.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},t[18]||(t[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[S,n.value]])]),r.visitServices.data.length>0?(o(),q(G,{key:0,links:r.visitServices.links},null,8,["links"])):u("",!0)])])]),_:1})],64))}});export{Ae as default};
