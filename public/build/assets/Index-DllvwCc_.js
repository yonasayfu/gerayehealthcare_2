import{d as S,k as f,l as P,Q as y,c as m,o as i,a,u as r,g as V,w as c,b as t,m as A,i as b,S as k,e as n,h as F,n as B,F as h,r as N,t as d}from"./app-B9ZmK4zT.js";import{d as $}from"./debounce-DetcGv2t.js";import{_ as I}from"./AppLayout.vue_vue_type_style_index_0_lang-15zqV9G-.js";import{_ as L}from"./Pagination.vue_vue_type_script_setup_true_lang-DLYnE-Py.js";import{D as j}from"./download-BX8ikYo_.js";import{F as E}from"./file-text-D7tBIRuP.js";import{P as Q}from"./printer-DubzHqt-.js";import{A as w}from"./arrow-up-down-cz3aQ1NM.js";import{P as U}from"./pen-line-l5oGmSQv.js";import{T as M}from"./trash-2-CoGP5DlO.js";import{_ as O}from"./_plugin-vue_export-helper-BpSdtWAT.js";import"./index-C8zLWs5I.js";import"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import"./createContext-fsEdSFMX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KsBcTmDK.js";import"./RovingFocusGroup-CCdiS5NK.js";import"./format-BigqMyrM.js";const q={class:"space-y-6 p-6"},z={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 bg-muted/40 p-4 rounded-lg shadow"},G={class:"flex flex-wrap gap-2"},H={class:"w-full md:w-1/3"},J={class:"overflow-x-auto bg-white shadow rounded-lg"},K={class:"w-full text-left text-sm"},R={class:"bg-gray-100 text-xs uppercase text-muted-foreground"},W={class:"px-6 py-4"},X={class:"px-6 py-4"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},ee={class:"px-6 py-4 text-right"},te=["onClick"],se={key:0},oe=S({__name:"Index",props:{taskDelegations:{},filters:{}},setup(g){const v=[{title:"Dashboard",href:route("dashboard")},{title:"Task Delegations",href:route("admin.task-delegations.index")}],p=f(g.filters.search||""),u=f(g.filters.sort_by),l=f(g.filters.sort_order);P([p,u,l],$(()=>{y.get(route("admin.task-delegations.index"),{search:p.value,sort_by:u.value,sort_order:l.value},{preserveState:!0,replace:!0})},500));function x(o){u.value===o?l.value=l.value==="asc"?"desc":"asc":(u.value=o,l.value="asc")}function _(o){confirm("Delete this task?")&&y.delete(route("admin.task-delegations.destroy",{task_delegation:o}))}function D(){window.open(route("admin.task-delegations.export",{type:"csv"}),"_blank")}function C(){window.open(route("admin.task-delegations.export",{type:"pdf"}),"_blank")}function T(){window.print()}return(o,e)=>(i(),m(h,null,[a(r(V),{title:"Task Delegations"}),a(I,{breadcrumbs:v},{default:c(()=>[t("div",q,[t("div",z,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Task Delegations"),t("p",{class:"text-sm text-muted-foreground"},"Assign and manage tasks for staff members.")],-1)),t("div",G,[a(r(k),{href:o.route("admin.task-delegations.create"),class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"},{default:c(()=>e[3]||(e[3]=[n("+ Assign Task")])),_:1,__:[3]},8,["href"]),t("button",{onClick:D,class:"inline-flex items-center gap-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm"},[a(r(j),{class:"h-4 w-4"}),e[4]||(e[4]=n(" CSV "))]),t("button",{onClick:C,class:"inline-flex items-center gap-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm"},[a(r(E),{class:"h-4 w-4"}),e[5]||(e[5]=n(" PDF "))]),t("button",{onClick:T,class:"inline-flex items-center gap-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm"},[a(r(Q),{class:"h-4 w-4"}),e[6]||(e[6]=n(" Print "))])])]),t("div",H,[F(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),placeholder:"Search tasks...",class:"w-full rounded border px-3 py-2"},null,512),[[B,p.value]])]),t("div",J,[t("table",K,[t("thead",R,[t("tr",null,[t("th",{onClick:e[1]||(e[1]=s=>x("title")),class:"px-6 py-3 cursor-pointer"},[e[8]||(e[8]=n(" Title ")),a(r(w),{class:"inline w-4 h-4 ml-1"})]),e[10]||(e[10]=t("th",{class:"px-6 py-3"},"Assigned To",-1)),t("th",{onClick:e[2]||(e[2]=s=>x("due_date")),class:"px-6 py-3 cursor-pointer"},[e[9]||(e[9]=n(" Due Date ")),a(r(w),{class:"inline w-4 h-4 ml-1"})]),e[11]||(e[11]=t("th",{class:"px-6 py-3"},"Status",-1)),e[12]||(e[12]=t("th",{class:"px-6 py-3 text-right"},"Actions",-1))])]),t("tbody",null,[(i(!0),m(h,null,N(o.taskDelegations.data,s=>(i(),m("tr",{key:s.id,class:"border-b hover:bg-gray-50"},[t("td",W,d(s.title),1),t("td",X,d(s.assignee.first_name)+" "+d(s.assignee.last_name),1),t("td",Y,d(new Date(s.due_date).toLocaleDateString()),1),t("td",Z,d(s.status),1),t("td",ee,[a(r(k),{href:o.route("admin.task-delegations.edit",{task_delegation:s.id}),class:"text-blue-600 mr-2",title:"Edit"},{default:c(()=>[a(r(U))]),_:2},1032,["href"]),t("button",{onClick:ae=>_(s.id),class:"text-red-600",title:"Delete"},[a(r(M))],8,te)])]))),128)),o.taskDelegations.data.length?b("",!0):(i(),m("tr",se,e[13]||(e[13]=[t("td",{colspan:"5",class:"py-6 text-center text-muted-foreground"}," No tasks found. ",-1)])))])])]),o.taskDelegations.data.length?(i(),A(L,{key:0,links:o.taskDelegations.links,class:"mt-4 flex justify-center"},null,8,["links"])):b("",!0)])]),_:1})],64))}}),ve=O(oe,[["__scopeId","data-v-08337f24"]]);export{ve as default};
