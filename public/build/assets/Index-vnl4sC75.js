import{d as B,m as i,g as H,i as z,p as q,q as R,s as I,c as u,o as p,a as o,b as s,h as J,w as E,e as t,y as g,x as K,t as l,l as G,z as c,j as _,k as j,aF as O,S as Q,v as W,F as A,r as X,_ as Z,aG as M,aH as ee}from"./app-iroKE1po.js";import{_ as te}from"./Pagination.vue_vue_type_script_setup_true_lang-Db9r6dcx.js";import{A as f}from"./arrow-up-down-xLVa9Isj.js";import{E as re}from"./eye-Bk7NkGIK.js";import{P as ae}from"./pen-line-P67gmmK5.js";import{T as ne}from"./trash-2-D1WaWCvx.js";const oe={class:"space-y-6 p-6 print:p-0 print:space-y-0"},se={class:"rounded-lg bg-muted/40 p-4 shadow-sm flex flex-col md:flex-row md:items-center md:justify-between gap-4 print:hidden"},ie={class:"flex flex-wrap gap-2"},le={key:0,class:"rounded-lg bg-blue-50 p-4 shadow-md flex flex-col md:flex-row md:items-center md:justify-between gap-4 print:hidden mt-4"},de={class:"text-base font-semibold text-blue-800 dark:text-blue-200"},pe={class:"rounded-lg bg-gray-50 p-4 shadow-md print:hidden mt-4"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={key:0,class:"mt-2 text-sm text-green-600 dark:text-green-400"},ce={key:0,class:"mt-2 text-sm text-green-600 dark:text-green-400"},me={key:0,class:"mt-4 text-sm text-red-600 dark:text-red-400"},ye={class:"flex flex-col md:flex-row justify-between items-center gap-4 print:hidden"},ve={class:"relative w-full md:w-1/3"},fe={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg print:shadow-none print:rounded-none print:bg-transparent"},he={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200 print-table"},xe={class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground print-table-header"},be={class:"px-6 py-4"},ke={class:"px-6 py-4"},we={class:"px-6 py-4"},De={class:"px-6 py-4"},Ce={class:"px-6 py-4"},Ee={class:"px-6 py-4 text-right print:hidden"},Se={class:"inline-flex items-center justify-end space-x-2"},$e=["onClick"],Ge={key:0},_e={class:"hidden print:block text-center mt-4 text-sm text-gray-500 print-footer"},Me=B({__name:"Index",props:{ethiopianCalendarDays:{},filters:{}},setup(F){const h=i(""),S=i(""),P=i(""),x=i(""),b=i(""),d=i(""),k=F,U=[{title:"Dashboard",href:route("dashboard")},{title:"Insurance",href:route("admin.ethiopian-calendar-days.index")},{title:"Ethiopian Calendar Days",href:route("admin.ethiopian-calendar-days.index")}],w=i(k.filters.search||""),m=i(k.filters.sort||""),y=i(k.filters.direction||"asc"),D=i(k.filters.per_page||5),Y=H(()=>z(new Date,"PPP p")),N=i(""),C=i(!1);function L(){const n=new Date,e=M.toEthiopian(n.getFullYear(),n.getMonth()+1,n.getDate());N.value=`${e[0]}-${String(e[1]).padStart(2,"0")}-${String(e[2]).padStart(2,"0")}`}L(),q([w,m,y,D],R(()=>{const n={search:w.value,direction:y.value,per_page:D.value};m.value&&(n.sort=m.value),I.get(route("admin.ethiopian-calendar-days.index"),n,{preserveState:!0,replace:!0})},500));function T(n){confirm("Are you sure you want to delete this ethiopian calendar day?")&&I.delete(route("admin.ethiopian-calendar-days.destroy",n))}function v(n){m.value===n?y.value=y.value==="asc"?"desc":"asc":(m.value=n,y.value="asc")}async function V(n){var e,r;d.value="",x.value="",b.value="";try{if(n==="gregorian"&&h.value)try{const a=await ee.post("/api/v1/convert-to-ethiopian",{date:h.value});b.value=a.data.ethiopian_date}catch(a){d.value=((r=(e=a.response)==null?void 0:e.data)==null?void 0:r.error)||"An unexpected error occurred during Gregorian to Ethiopian conversion.",console.error("Gregorian to Ethiopian conversion error:",a)}else if(n==="ethiopian"&&S.value)try{const a=S.value.split("-").map(Number);if(a.length!==3||isNaN(a[0])||isNaN(a[1])||isNaN(a[2]))throw new Error("Invalid Ethiopian date format. Please use YYYY-MM-DD.");const $=M.toGregorian(a[0],a[1],a[2]);x.value=`${$[0]}-${String($[1]).padStart(2,"0")}-${String($[2]).padStart(2,"0")}`}catch(a){d.value=a.message||"Invalid Ethiopian date for conversion.",console.error("Frontend conversion error:",a)}else d.value="Please enter a date to convert."}catch(a){a.response&&a.response.data&&a.response.data.message?d.value=a.response.data.message:a.response&&a.response.data&&a.response.data.error?d.value=a.response.data.error:d.value="An unexpected error occurred during conversion.",console.error("Conversion error:",a)}}return(n,e)=>(p(),u(A,null,[o(s(J),{title:"Ethiopian Calendar Days"}),o(Z,{breadcrumbs:U},{default:E(()=>[t("div",oe,[t("div",se,[e[14]||(e[14]=t("div",null,[t("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Ethiopian Calendar Days"),t("p",{class:"text-sm text-muted-foreground"},"Manage all ethiopian calendar days here.")],-1)),t("div",ie,[t("button",{onClick:e[0]||(e[0]=r=>C.value=!C.value),class:"inline-flex items-center px-4 py-2 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-300 focus:outline-none focus:border-gray-400 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},l(C.value?"Hide Ethiopian Date":"Show Ethiopian Date"),1),o(s(G),{href:n.route("admin.ethiopian-calendar-days.create"),class:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded-md transition"},{default:E(()=>e[13]||(e[13]=[c(" + Add Day ",-1)])),_:1,__:[13]},8,["href"])])]),C.value?(p(),u("div",le,[t("p",de,"Today's Date: "+l(new Date().toLocaleDateString())+" (Gregorian) / "+l(N.value)+" (Ethiopian)",1)])):g("",!0),t("div",pe,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Date Conversion",-1)),t("div",ue,[t("div",null,[e[15]||(e[15]=t("label",{for:"gregorianConvertInput",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Gregorian Date to Convert",-1)),_(t("input",{type:"date",id:"gregorianConvertInput","onUpdate:modelValue":e[1]||(e[1]=r=>h.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[j,h.value]]),t("button",{onClick:e[2]||(e[2]=r=>V("gregorian")),class:"mt-2 inline-flex items-center px-3 py-1.5 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-300 focus:outline-none focus:border-gray-400 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Convert to Ethiopian "),b.value?(p(),u("p",ge,"Converted Ethiopian: "+l(b.value),1)):g("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"ethiopianConvertInput",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Ethiopian Date to Convert",-1)),o(O,{id:"ethiopianConvertInput",modelValue:P.value,"onUpdate:modelValue":e[3]||(e[3]=r=>P.value=r),"onUpdate:ethiopianDate":e[4]||(e[4]=r=>S.value=r)},null,8,["modelValue"]),t("button",{onClick:e[5]||(e[5]=r=>V("ethiopian")),class:"mt-2 inline-flex items-center px-3 py-1.5 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-300 focus:outline-none focus:border-gray-400 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Convert to Gregorian "),x.value?(p(),u("p",ce,"Converted Gregorian: "+l(x.value),1)):g("",!0)])]),d.value?(p(),u("p",me,l(d.value),1)):g("",!0)]),t("div",ye,[t("div",ve,[_(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=r=>w.value=r),placeholder:"Search days...",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[j,w.value]]),o(s(Q),{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"})]),t("div",null,[e[19]||(e[19]=t("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Pagination per page:",-1)),_(t("select",{id:"perPage","onUpdate:modelValue":e[7]||(e[7]=r=>D.value=r),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},e[18]||(e[18]=[t("option",{value:"5"},"5",-1),t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1)]),512),[[W,D.value]])])]),t("div",fe,[e[27]||(e[27]=t("div",{class:"hidden print:block text-center mb-4 print:mb-2 print-header-content"},[t("img",{src:"/images/geraye_logo.jpeg",alt:"Geraye Logo",class:"print-logo"}),t("h1",{class:"font-bold text-gray-800 dark:text-white print-clinic-name"},"Geraye Home Care Services"),t("p",{class:"text-gray-600 dark:text-gray-400 print-document-title"},"Ethiopian Calendar Days List (Current View)"),t("hr",{class:"my-3 border-gray-300 print:my-2"})],-1)),t("table",he,[t("thead",xe,[t("tr",null,[t("th",{class:"px-6 py-3 cursor-pointer",onClick:e[8]||(e[8]=r=>v("gregorian_date"))},[e[20]||(e[20]=c(" Gregorian Date ",-1)),o(s(f),{class:"inline w-4 h-4 ml-1 print:hidden"})]),t("th",{class:"px-6 py-3 cursor-pointer",onClick:e[9]||(e[9]=r=>v("ethiopian_date"))},[e[21]||(e[21]=c(" Ethiopian Date ",-1)),o(s(f),{class:"inline w-4 h-4 ml-1 print:hidden"})]),t("th",{class:"px-6 py-3 cursor-pointer",onClick:e[10]||(e[10]=r=>v("description"))},[e[22]||(e[22]=c(" Description ",-1)),o(s(f),{class:"inline w-4 h-4 ml-1 print:hidden"})]),t("th",{class:"px-6 py-3 cursor-pointer",onClick:e[11]||(e[11]=r=>v("is_holiday"))},[e[23]||(e[23]=c(" Is Holiday ",-1)),o(s(f),{class:"inline w-4 h-4 ml-1 print:hidden"})]),t("th",{class:"px-6 py-3 cursor-pointer",onClick:e[12]||(e[12]=r=>v("region"))},[e[24]||(e[24]=c(" Region ",-1)),o(s(f),{class:"inline w-4 h-4 ml-1 print:hidden"})]),e[25]||(e[25]=t("th",{class:"px-6 py-3 text-right print:hidden"},"Actions",-1))])]),t("tbody",null,[(p(!0),u(A,null,X(n.ethiopianCalendarDays.data,r=>(p(),u("tr",{key:r.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 print-table-row"},[t("td",be,l(r.gregorian_date),1),t("td",ke,l(r.ethiopian_date??"-"),1),t("td",we,l(r.description??"-"),1),t("td",De,l(r.is_holiday?"Yes":"No"),1),t("td",Ce,l(r.region??"-"),1),t("td",Ee,[t("div",Se,[o(s(G),{href:n.route("admin.ethiopian-calendar-days.show",r.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",title:"View Details"},{default:E(()=>[o(s(re),{class:"w-4 h-4"})]),_:2},1032,["href"]),o(s(G),{href:n.route("admin.ethiopian-calendar-days.edit",r.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 text-blue-600",title:"Edit"},{default:E(()=>[o(s(ae),{class:"w-4 h-4"})]),_:2},1032,["href"]),t("button",{onClick:a=>T(r.id),class:"text-red-600 hover:text-red-800 inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-red-100 dark:hover:bg-red-900",title:"Delete"},[o(s(ne),{class:"w-4 h-4"})],8,$e)])])]))),128)),n.ethiopianCalendarDays.data.length===0?(p(),u("tr",Ge,e[26]||(e[26]=[t("td",{colspan:"6",class:"text-center px-6 py-4 text-gray-400"},"No ethiopian calendar days found.",-1)]))):g("",!0)])])]),n.ethiopianCalendarDays.data.length>0?(p(),K(te,{key:1,links:n.ethiopianCalendarDays.links,class:"mt-6 flex justify-center print:hidden"},null,8,["links"])):g("",!0),t("div",_e,[e[28]||(e[28]=t("hr",{class:"my-2 border-gray-300"},null,-1)),t("p",null,"Document Generated: "+l(Y.value),1)])])]),_:1})],64))}});export{Me as default};
