import{d as f,x as p,c as u,o as _,a,u as r,g as h,w as o,b as i,t as n,S as g,e as b,F as S}from"./app-B9ZmK4zT.js";import{_ as x}from"./AppLayout.vue_vue_type_style_index_0_lang-15zqV9G-.js";import{_ as y}from"./Form.vue_vue_type_script_setup_true_lang-Qc6-ZEtg.js";import{f as w}from"./format-BigqMyrM.js";import"./index-C8zLWs5I.js";import"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import"./createContext-fsEdSFMX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KsBcTmDK.js";import"./RovingFocusGroup-CCdiS5NK.js";import"./_plugin-vue_export-helper-BpSdtWAT.js";const k={class:"p-6 space-y-6"},V={class:"rounded-lg bg-muted/40 p-4 shadow-sm"},D={class:"text-sm text-muted-foreground"},E={class:"rounded-lg border border-border bg-white dark:bg-background p-6 shadow-sm space-y-6"},C={class:"flex justify-end space-x-3"},$=["disabled"],P=f({__name:"Edit",props:{visitService:{},patients:{},staff:{}},setup(c){const e=c,l=e.visitService.scheduled_at?w(new Date(e.visitService.scheduled_at),"yyyy-MM-dd'T'HH:mm"):"",v=[{title:"Dashboard",href:route("dashboard")},{title:"Visit Services",href:route("admin.visit-services.index")},{title:`Edit Visit #${e.visitService.id}`,href:route("admin.visit-services.edit",e.visitService.id)}],s=p({_method:"PUT",patient_id:e.visitService.patient_id,staff_id:e.visitService.staff_id,scheduled_at:l,status:e.visitService.status,visit_notes:e.visitService.visit_notes||"",service_description:e.visitService.service_description||"",prescription_file:null,vitals_file:null});s.transform(t=>({...t,scheduled_at:t.scheduled_at?new Date(t.scheduled_at).toISOString():null}));function m(){s.post(route("admin.visit-services.update",e.visitService.id),{forceFormData:!0})}return(t,d)=>(_(),u(S,null,[a(r(h),{title:`Edit Visit #${t.visitService.id}`},null,8,["title"]),a(x,{breadcrumbs:v},{default:o(()=>[i("div",k,[i("div",V,[d[0]||(d[0]=i("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Edit Visit Service",-1)),i("p",D,"Update the details for visit #"+n(t.visitService.id)+".",1)]),i("div",E,[a(y,{form:r(s),patients:e.patients,staff:e.staff,"visit-service":e.visitService},null,8,["form","patients","staff","visit-service"]),i("div",C,[a(r(g),{href:t.route("admin.visit-services.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-muted/30 transition"},{default:o(()=>d[1]||(d[1]=[b("Cancel")])),_:1,__:[1]},8,["href"]),i("button",{onClick:m,disabled:r(s).processing,class:"inline-flex items-center px-5 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white rounded-md text-sm font-medium transition"},n(r(s).processing?"Saving...":"Update Visit"),9,$)])])])]),_:1})],64))}});export{P as default};
