import{d as k,x as y,c as l,o as a,a as p,u as n,g as h,w as b,b as t,m as D,i as u,j as w,h as c,n as m,F as x,r as v,t as i,Q as C}from"./app-B9ZmK4zT.js";import{_ as S}from"./AppLayout.vue_vue_type_style_index_0_lang-15zqV9G-.js";import{_ as N}from"./Pagination.vue_vue_type_script_setup_true_lang-DLYnE-Py.js";import{_ as M}from"./_plugin-vue_export-helper-BpSdtWAT.js";import"./index-C8zLWs5I.js";import"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import"./createContext-fsEdSFMX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KsBcTmDK.js";import"./RovingFocusGroup-CCdiS5NK.js";import"./format-BigqMyrM.js";const V={class:"p-6 space-y-6 bg-white rounded-lg shadow"},B=["disabled"],T={class:"w-full text-left text-sm"},I={class:"px-4 py-2"},$={class:"px-4 py-2"},j={class:"px-4 py-2"},A={class:"px-4 py-2 text-right"},F=["onClick"],L={key:1,class:"text-gray-500 italic"},Q={key:0},U=k({__name:"Index",props:{taskDelegations:{},filters:{}},setup(_){const r=_,o=y({title:"",due_date:"",notes:""});function f(){o.post(route("staff.task-delegations.store"),{preserveScroll:!0,onSuccess:()=>o.reset()})}function g(d){C.patch(route("staff.task-delegations.update",{task_delegation:d}),{status:"Completed"},{preserveState:!1,preserveScroll:!0})}return(d,e)=>(a(),l(x,null,[p(n(h),{title:"My Tasks"}),p(S,null,{default:b(()=>[t("section",V,[e[4]||(e[4]=t("h1",{class:"text-xl font-semibold"},"My Tasks",-1)),t("form",{onSubmit:w(f,["prevent"]),class:"flex gap-2"},[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(o).title=s),placeholder:"New task titleâ€¦",class:"flex-1 rounded border px-3 py-2"},null,512),[[m,n(o).title]]),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>n(o).due_date=s),class:"rounded border px-3 py-2"},null,512),[[m,n(o).due_date]]),t("button",{type:"submit",disabled:n(o).processing,class:"bg-blue-600 text-white px-4 py-2 rounded"}," Add ",8,B)],32),t("table",T,[e[3]||(e[3]=t("thead",{class:"bg-gray-100 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Title"),t("th",{class:"px-4 py-2"},"Due"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2 text-right"},"Action")])],-1)),t("tbody",null,[(a(!0),l(x,null,v(r.taskDelegations.data,s=>(a(),l("tr",{key:s.id,class:"border-t"},[t("td",I,i(s.title),1),t("td",$,i(new Date(s.due_date).toLocaleDateString()),1),t("td",j,i(s.status),1),t("td",A,[s.status!=="Completed"?(a(),l("button",{key:0,onClick:E=>g(s.id),class:"text-green-600 hover:underline"}," Mark Done ",8,F)):(a(),l("span",L,"Completed"))])]))),128)),r.taskDelegations.data.length?u("",!0):(a(),l("tr",Q,e[2]||(e[2]=[t("td",{colspan:"4",class:"py-6 text-center text-muted-foreground"}," No tasks assigned. ",-1)])))])]),r.taskDelegations.links.length>1?(a(),D(N,{key:0,links:r.taskDelegations.links,class:"mt-4 flex justify-center"},null,8,["links"])):u("",!0)])]),_:1})],64))}}),X=M(U,[["__scopeId","data-v-77557b2c"]]);export{X as default};
