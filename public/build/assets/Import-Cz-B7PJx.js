import{s as k,r as m,f as l,g as a,i as o,j as u,k as C,w as S,l as e,q as p,bS as w,t as f,bT as V,F as g,m as F,x as T,bU as b,n as i,D as j}from"./vendor-BwD25tKZ.js";import{_ as U}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./constructNow-B9pLeBHj.js";import"./Primitive-BSXjhaNq.js";import"./format-BcfG6MxF.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./debounce-Cwa4SNQ2.js";import"./app-Bm08FwIe.js";const D={class:"space-y-6 p-6"},O={class:"bg-white dark:bg-gray-900 shadow rounded-lg p-6"},B={class:"max-w-xl mx-auto"},E={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md flex items-center gap-2"},I={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md"},M={class:"flex items-center gap-2 mb-2"},N={class:"list-disc list-inside text-sm"},q={class:"mb-4"},A={class:"flex items-center justify-center w-full"},z={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},R={class:"flex flex-col items-center justify-center pt-5 pb-6"},L={key:0,class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},P={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},X={key:2,class:"text-sm text-gray-600 dark:text-gray-300"},$={class:"flex justify-end"},G=["disabled"],de=k({__name:"Import",setup(H){const h=[{title:"Dashboard",href:route("dashboard")},{title:"Suppliers",href:route("admin.suppliers.index")},{title:"Import CSV",href:route("admin.suppliers.import.create")}],s=m(null),c=m(!1),r=m([]),n=m(null);function v(d){const t=d.target;t.files&&t.files.length>0&&(s.value=t.files[0],r.value=[],n.value=null)}function x(){if(!s.value){alert("Please select a CSV file to upload.");return}c.value=!0,r.value=[],n.value=null;const d=new FormData;d.append("csv_file",s.value),j.post(route("admin.suppliers.import.store"),d,{onSuccess:()=>{n.value="CSV file imported successfully!",s.value=null},onError:t=>{t.csv_file?r.value=[t.csv_file]:r.value=Object.values(t).flat()},onFinish:()=>{c.value=!1}})}return(d,t)=>(a(),l(g,null,[o(u(C),{title:"Import Suppliers from CSV"}),o(U,{breadcrumbs:h},{default:S(()=>[e("div",D,[t[4]||(t[4]=e("div",{class:"rounded-lg bg-muted/40 p-4 shadow-sm"},[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Import Suppliers from CSV"),e("p",{class:"text-sm text-muted-foreground"},"Upload a CSV file to bulk-import supplier data.")],-1)),e("div",O,[e("div",B,[n.value?(a(),l("div",E,[o(u(w),{class:"h-5 w-5"}),e("span",null,f(n.value),1)])):p("",!0),r.value.length>0?(a(),l("div",I,[e("div",M,[o(u(V),{class:"h-5 w-5"}),t[0]||(t[0]=e("h3",{class:"font-bold"},"Validation Errors",-1))]),e("ul",N,[(a(!0),l(g,null,F(r.value,(y,_)=>(a(),l("li",{key:_},f(y),1))),128))])])):p("",!0),e("form",{onSubmit:T(x,["prevent"])},[e("div",q,[t[2]||(t[2]=e("label",{for:"csv_file",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"CSV File",-1)),e("div",A,[e("label",z,[e("div",R,[o(u(b),{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"}),s.value?p("",!0):(a(),l("p",L,[...t[1]||(t[1]=[e("span",{class:"font-semibold"},"Click to upload",-1),i(" or drag and drop",-1)])])),s.value?p("",!0):(a(),l("p",P,"CSV (MAX. 2MB)")),s.value?(a(),l("p",X,f(s.value.name),1)):p("",!0)]),e("input",{id:"dropzone-file",type:"file",onChange:v,accept:".csv",class:"hidden"},null,32)])])]),e("div",$,[e("button",{type:"submit",disabled:c.value||!s.value,class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-50"},[o(u(b),{class:"h-4 w-4"}),e("span",null,f(c.value?"Uploading...":"Upload CSV"),1)],8,G)])],32),t[3]||(t[3]=e("div",{class:"mt-8 text-sm text-gray-600 dark:text-gray-400"},[e("h4",{class:"font-semibold mb-2"},"CSV Format Requirements:"),e("p",null,"The CSV file must have the following columns in this exact order:"),e("p",{class:"font-mono text-xs bg-gray-100 dark:bg-gray-800 p-2 rounded my-2"},"name, contact_person, email, phone, address"),e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,[e("strong",null,"name:"),i(" Required. The name of the supplier.")]),e("li",null,[e("strong",null,"contact_person:"),i(" Optional. The contact person at the supplier.")]),e("li",null,[e("strong",null,"email:"),i(" Optional. A valid email address.")]),e("li",null,[e("strong",null,"phone:"),i(" Optional. The phone number of the supplier.")]),e("li",null,[e("strong",null,"address:"),i(" Optional. The address of the supplier.")])])],-1))])])])]),_:1})],64))}});export{de as default};
