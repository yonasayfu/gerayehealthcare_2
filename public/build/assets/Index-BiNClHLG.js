import{s as D,r as c,C,D as y,f as l,g as i,i as a,j as o,k as U,w as n,l as e,z as m,n as h,p as b,v as N,B as S,q as T,F as g,m as v,t as f,bV as V,I as A,J as M,T as j}from"./vendor-BwD25tKZ.js";import{_ as B}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import{c as E}from"./confirm-BCahKa7A.js";import{d as P}from"./debounce-Cwa4SNQ2.js";import{_ as z}from"./Pagination.vue_vue_type_script_setup_true_lang-DAC70Nby.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./constructNow-B9pLeBHj.js";import"./Primitive-BSXjhaNq.js";import"./format-BcfG6MxF.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./app-Bm08FwIe.js";const I={class:"p-6 space-y-6"},$={class:"flex items-center justify-between"},F={class:"flex flex-col md:flex-row justify-between items-center gap-4"},L={class:"relative w-full md:w-1/3"},q={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},J={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200"},R={class:"px-6 py-4 font-medium"},G={class:"px-6 py-4 text-gray-500"},H={class:"px-6 py-4"},K={class:"flex flex-wrap gap-2"},O={class:"px-6 py-4 text-right"},Q={class:"inline-flex items-center justify-end space-x-2"},W=["onClick"],X={key:0},xe=D({__name:"Index",props:{users:{},filters:{}},setup(k){const x=k,w=[{title:"Dashboard",href:route("dashboard")},{title:"User Management",href:route("admin.users.index")}],d=c(x.filters.search||""),p=c(x.filters.per_page||"5");C([d,p],P(s=>{y.get(route("admin.users.index"),{search:s[0],per_page:s[1]},{preserveState:!0,replace:!0})},300));async function _(s){await E({title:"Delete User",message:"Are you sure you want to delete this user? This will also delete their associated staff profile.",confirmText:"Delete",cancelText:"Cancel"})&&y.delete(route("admin.users.destroy",s),{preserveScroll:!0})}return(s,t)=>(i(),l(g,null,[a(o(U),{title:"User Management"}),a(B,{breadcrumbs:w},{default:n(()=>[e("div",I,[e("div",$,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"User Management"),e("p",{class:"text-sm text-muted-foreground"},"Assign roles and manage all system users.")],-1)),a(o(m),{href:s.route("admin.users.create"),class:"inline-flex items-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm px-4 py-2 rounded-md transition"},{default:n(()=>[...t[2]||(t[2]=[h(" + Add New Staff User ",-1)])]),_:1},8,["href"])]),e("div",F,[e("div",L,[b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r),placeholder:"Search by name or email...",class:"form-input w-full rounded-md border-gray-300 pl-10 pr-4 py-2 text-sm shadow-sm"},null,512),[[N,d.value]]),t[4]||(t[4]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.65-1.85z"})],-1))]),e("div",null,[t[6]||(t[6]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Items per page:",-1)),b(e("select",{id:"perPage","onUpdate:modelValue":t[1]||(t[1]=r=>p.value=r),class:"rounded-md border-gray-300 bg-white text-gray-900 sm:text-sm px-2 py-1 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"},[...t[5]||(t[5]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)])],512),[[S,p.value]])])]),e("div",q,[e("table",J,[t[8]||(t[8]=e("thead",{class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground"},[e("tr",null,[e("th",{class:"px-6 py-3"},"User Name"),e("th",{class:"px-6 py-3"},"Email"),e("th",{class:"px-6 py-3"},"Assigned Roles"),e("th",{class:"px-6 py-3 text-right"},"Actions")])],-1)),e("tbody",null,[(i(!0),l(g,null,v(s.users.data,r=>(i(),l("tr",{key:r.id,class:"border-b dark:border-gray-700"},[e("td",R,f(r.name),1),e("td",G,f(r.email),1),e("td",H,[e("div",K,[(i(!0),l(g,null,v(r.roles,u=>(i(),l("span",{key:u.id,class:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-semibold rounded-full dark:bg-indigo-900 dark:text-indigo-200"},[a(o(V),{class:"h-3 w-3"}),h(" "+f(u.name),1)]))),128))])]),e("td",O,[e("div",Q,[a(o(m),{href:s.route("admin.users.show",r.id),class:"inline-flex items-center p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",title:"View Details"},{default:n(()=>[a(o(A),{class:"w-4 h-4"})]),_:2},1032,["href"]),a(o(m),{href:s.route("admin.users.edit",r.id),class:"inline-flex items-center p-2 rounded-md text-blue-600 hover:bg-blue-50 dark:text-blue-300 dark:hover:bg-gray-700",title:"Edit"},{default:n(()=>[a(o(M),{class:"w-4 h-4"})]),_:2},1032,["href"]),e("button",{onClick:u=>_(r.id),class:"inline-flex items-center p-2 rounded-md text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-gray-700",title:"Delete"},[a(o(j),{class:"w-4 h-4"})],8,W)])])]))),128)),s.users.data.length===0?(i(),l("tr",X,[...t[7]||(t[7]=[e("td",{colspan:"4",class:"text-center px-6 py-4 text-gray-400"},"No users found.",-1)])])):T("",!0)])])]),a(z,{links:s.users.links},null,8,["links"])])]),_:1})],64))}});export{xe as default};
