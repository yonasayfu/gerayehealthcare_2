import{s as m,u,C as f,D as g,V as b,f as v,g as _,i as a,j as r,k as h,w as o,l as e,x as w,y,z as x,n as C,t as k,F as D}from"./vendor-BwD25tKZ.js";import{_ as I}from"./AppLayout.vue_vue_type_style_index_0_lang-CvAaBbvn.js";import"./charts-DOEJufVb.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-9XWwQ7Yt.js";import"./utils-CBfrqCZ4.js";import"./createContext-BqFVO7-m.js";import"./useForwardExpose-G3tvssmS.js";import"./constructNow-B9pLeBHj.js";import"./Primitive-BSXjhaNq.js";import"./format-BcfG6MxF.js";import"./VisuallyHidden-C1CaS35V.js";import"./index-CKGAZWQo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CuMZ7Rul.js";import"./debounce-Cwa4SNQ2.js";import"./app-Bm08FwIe.js";const S={class:"space-y-6 p-6"},j={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-sm p-6"},F={class:"flex justify-end gap-2 pt-2"},N=["disabled"],L=m({__name:"Create",props:{patients:{},selectedPatientId:{},billableVisits:{}},setup(n){const d=n,l=[{title:"Dashboard",href:route("dashboard")},{title:"Invoices",href:route("admin.invoices.index")},{title:"Create",href:route("admin.invoices.create")}],i=u({patient_id:d.selectedPatientId||"",visit_ids:[],invoice_date:new Date().toISOString().split("T")[0],due_date:new Date(new Date().setDate(new Date().getDate()+30)).toISOString().split("T")[0]});f(()=>i.patient_id,t=>{g.get(route("admin.invoices.create"),{patient_id:t},{preserveState:!0,replace:!0})});function c(){console.log("Submitting form with data:",i.data()),i.post(route("admin.invoices.store"),{onSuccess:()=>{console.log("Invoice created successfully!")},onError:t=>{console.error("Error creating invoice:",t);let s="An unknown error occurred.";typeof t=="object"&&t!==null&&(s=Object.values(t).flat().join(`
`)),alert(`Error creating invoice:
`+s)}})}return(t,s)=>{const p=b("Form");return _(),v(D,null,[a(r(h),{title:"Create New Invoice"}),a(I,{breadcrumbs:l},{default:o(()=>[e("div",S,[s[1]||(s[1]=e("div",{class:"liquidGlass-wrapper print:hidden w-full rounded-t-lg"},[e("div",{class:"liquidGlass-inner-shine","aria-hidden":"true"}),e("div",{class:"liquidGlass-content flex items-center justify-between p-6"},[e("div",{class:"print:hidden"},[e("h1",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Create New Invoice"),e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mt-1"},"Fill required information to create a invoice.")])])],-1)),e("div",j,[e("form",{onSubmit:w(c,["prevent"]),class:"space-y-4"},[a(p,y({form:r(i)},t.$props),null,16,["form"]),e("div",F,[a(r(x),{href:t.route("admin.invoices.index"),class:"btn-glass btn-glass-sm"},{default:o(()=>[...s[0]||(s[0]=[C("Cancel",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:r(i).processing,class:"btn-glass btn-glass-sm"},k(r(i).processing?"Creating...":"Create Invoice"),9,N)])],32)])])]),_:1})],64)}}});export{L as default};
