import{s as F,r as S,A as V,o as C,f as s,g as a,l as o,p as m,q as u,v as f,t as d,B as p,F as c,m as v,n as U,x as M}from"./vendor-BwD25tKZ.js";import{u as G}from"./useEthiopianDate-D2L2aCHH.js";const T={class:"border-b border-gray-900/10 pb-12"},P={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Y={class:"sm:col-span-3"},q={class:"mt-2"},A={key:0,class:"text-red-500 text-sm mt-1"},I={class:"sm:col-span-3"},W={class:"mt-2"},z={key:0,class:"text-red-500 text-sm mt-1"},L={class:"sm:col-span-3"},R={class:"mt-2"},j=["value"],H={key:0,class:"text-red-500 text-sm mt-1"},J={class:"sm:col-span-3"},K={class:"mt-2"},O={key:0,class:"text-red-500 text-sm mt-1"},Q={key:1,class:"text-red-500 text-sm mt-1"},X={class:"sm:col-span-3"},Z={class:"mt-2"},tt={key:0,class:"text-red-500 text-sm mt-1"},et={class:"sm:col-span-3"},ot={class:"mt-2"},rt=["value"],st={key:0,class:"text-red-500 text-sm mt-1"},at={class:"sm:col-span-3"},dt={class:"mt-2"},lt={key:0,class:"text-red-500 text-sm mt-1"},nt={class:"sm:col-span-3"},it={class:"mt-2"},mt={key:0,class:"text-red-500 text-sm mt-1"},ut={class:"col-span-full"},ft={class:"mt-2"},yt={key:0,class:"text-red-500 text-sm mt-1"},bt={class:"sm:col-span-3"},gt={class:"mt-2"},pt={key:0,class:"text-red-500 text-sm mt-1"},ct={class:"sm:col-span-3"},vt={class:"mt-2"},ht={key:0,class:"text-red-500 text-sm mt-1"},kt={class:"sm:col-span-3"},xt={class:"mt-2"},_t=["value"],wt={key:0,class:"text-red-500 text-sm mt-1"},St={class:"sm:col-span-3"},Vt={class:"mt-2"},Ut=["value"],$t={key:0,class:"text-red-500 text-sm mt-1"},Nt=F({__name:"Form",props:{form:{},localErrors:{},corporateClients:{},insurancePolicies:{}},emits:["submit"],setup($,{emit:E}){const l=$,D=E,N=["Male","Female"],B=["TikTok","Website","Referral","Walk-in"],b=S(!1),g=S(!1),{convertGregorianToEthiopian:k,convertEthiopianToGregorian:x}=G(),_=V({get:()=>l.form.date_of_birth,set:e=>{if(l.form.date_of_birth=e,!e||g.value)return;b.value=!0;const[t,r,n]=String(e).split("-").map(Number);if(!t||!r||!n){b.value=!1;return}k({year:t,month:r,day:n}).then(i=>{if(i){const y=String(i.month).padStart(2,"0"),h=String(i.day).padStart(2,"0");l.form.ethiopian_date_of_birth=`${i.year}-${y}-${h}`}}).finally(()=>{b.value=!1})}}),w=V({get:()=>l.form.ethiopian_date_of_birth,set:e=>{if(l.form.ethiopian_date_of_birth=e,!e||b.value)return;g.value=!0;const[t,r,n]=String(e).split("-").map(Number);if(!t||!r||!n){g.value=!1;return}x({year:t,month:r,day:n}).then(i=>{if(i){const y=String(i.month).padStart(2,"0"),h=String(i.day).padStart(2,"0");l.form.date_of_birth=`${i.year}-${y}-${h}`}}).finally(()=>{g.value=!1})}});return C(()=>{if(l.form.date_of_birth&&!l.form.ethiopian_date_of_birth){const[e,t,r]=String(l.form.date_of_birth).split("-").map(Number);e&&t&&r&&k({year:e,month:t,day:r}).then(n=>{if(n){const i=String(n.month).padStart(2,"0"),y=String(n.day).padStart(2,"0");l.form.ethiopian_date_of_birth=`${n.year}-${i}-${y}`}})}else if(l.form.ethiopian_date_of_birth&&!l.form.date_of_birth){const[e,t,r]=String(l.form.ethiopian_date_of_birth).split("-").map(Number);e&&t&&r&&x({year:e,month:t,day:r}).then(n=>{if(n){const i=String(n.month).padStart(2,"0"),y=String(n.day).padStart(2,"0");l.form.date_of_birth=`${n.year}-${i}-${y}`}})}}),(e,t)=>(a(),s("form",{onSubmit:t[13]||(t[13]=M(r=>D("submit"),["prevent"]))},[o("div",T,[t[31]||(t[31]=o("h2",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Patient Information",-1)),t[32]||(t[32]=o("p",{class:"mt-1 text-sm text-muted-foreground"}," Use accurate and up-to-date details for patient registration. ",-1)),o("div",P,[o("div",Y,[t[14]||(t[14]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Full Name",-1)),o("div",q,[m(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>e.form.full_name=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.full_name]]),e.form.errors.full_name?(a(),s("div",A,d(e.form.errors.full_name),1)):u("",!0)])]),o("div",I,[t[15]||(t[15]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Fayda ID",-1)),o("div",W,[m(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>e.form.fayda_id=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.fayda_id]]),e.form.errors.fayda_id?(a(),s("div",z,d(e.form.errors.fayda_id),1)):u("",!0)])]),o("div",L,[t[17]||(t[17]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Source",-1)),o("div",R,[m(o("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>e.form.source=r),class:"shadow-sm border border-gray-300 text-gray-900 dark:text-white sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5 bg-white dark:bg-gray-800"},[t[16]||(t[16]=o("option",{value:null},"Select source",-1)),(a(),s(c,null,v(B,r=>o("option",{key:r,value:r},d(r),9,j)),64))],512),[[p,e.form.source]]),e.form.errors.source?(a(),s("div",H,d(e.form.errors.source),1)):u("",!0)])]),o("div",J,[t[18]||(t[18]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Phone Number",-1)),o("div",K,[m(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=r=>e.form.phone_number=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.phone_number]]),l.localErrors?.phone_number?(a(),s("div",O,d(l.localErrors.phone_number),1)):e.form.errors.phone_number?(a(),s("div",Q,d(e.form.errors.phone_number),1)):u("",!0)])]),o("div",X,[t[19]||(t[19]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Email Address",-1)),o("div",Z,[m(o("input",{type:"email","onUpdate:modelValue":t[4]||(t[4]=r=>e.form.email=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.email,void 0,{trim:!0}]]),e.form.errors.email?(a(),s("div",tt,d(e.form.errors.email),1)):u("",!0)])]),o("div",et,[t[21]||(t[21]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Gender",-1)),o("div",ot,[m(o("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>e.form.gender=r),class:"shadow-sm border border-gray-300 text-gray-900 dark:text-white sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5 bg-white dark:bg-gray-800"},[t[20]||(t[20]=o("option",{value:null},"Select gender",-1)),(a(),s(c,null,v(N,r=>o("option",{key:r,value:r},d(r),9,rt)),64))],512),[[p,e.form.gender]]),e.form.errors.gender?(a(),s("div",st,d(e.form.errors.gender),1)):u("",!0)])]),o("div",at,[t[22]||(t[22]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},[U("Date of Birth (Gregorian) "),o("span",{class:"text-red-500"},"*")],-1)),o("div",dt,[m(o("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=r=>_.value=r),required:"",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,_.value]]),e.form.errors.date_of_birth?(a(),s("div",lt,d(e.form.errors.date_of_birth),1)):u("",!0)])]),o("div",nt,[t[23]||(t[23]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},[U("Date of Birth (Ethiopian) "),o("span",{class:"text-red-500"},"*")],-1)),o("div",it,[m(o("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=r=>w.value=r),placeholder:"YYYY-MM-DD",required:"",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,w.value]]),e.form.errors.ethiopian_date_of_birth?(a(),s("div",mt,d(e.form.errors.ethiopian_date_of_birth),1)):u("",!0)])]),o("div",ut,[t[24]||(t[24]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Address",-1)),o("div",ft,[m(o("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>e.form.address=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.address]]),e.form.errors.address?(a(),s("div",yt,d(e.form.errors.address),1)):u("",!0)])]),o("div",bt,[t[25]||(t[25]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Emergency Contact",-1)),o("div",gt,[m(o("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=r=>e.form.emergency_contact=r),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.emergency_contact]]),e.form.errors.emergency_contact?(a(),s("div",pt,d(e.form.errors.emergency_contact),1)):u("",!0)])]),o("div",ct,[t[26]||(t[26]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Geolocation",-1)),o("div",vt,[m(o("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=r=>e.form.geolocation=r),placeholder:"e.g., 9.012345,38.765432",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"},null,512),[[f,e.form.geolocation]]),e.form.errors.geolocation?(a(),s("div",ht,d(e.form.errors.geolocation),1)):u("",!0)])]),o("div",kt,[t[28]||(t[28]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-1"},"Employer (Corporate Client)",-1)),o("div",xt,[m(o("select",{"onUpdate:modelValue":t[11]||(t[11]=r=>e.form.corporate_client_id=r),class:"shadow-sm border border-gray-300 text-gray-900 dark:text-white sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5 bg-white dark:bg-gray-800"},[t[27]||(t[27]=o("option",{value:null},"Select employer",-1)),(a(!0),s(c,null,v(e.corporateClients,r=>(a(),s("option",{key:r.id,value:r.id},d(r.name??r.organization_name??"—"),9,_t))),128))],512),[[p,e.form.corporate_client_id]]),e.form.errors?.corporate_client_id?(a(),s("div",wt,d(e.form.errors.corporate_client_id),1)):u("",!0)])]),o("div",St,[t[30]||(t[30]=o("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-1"},"Insurance Policy",-1)),o("div",Vt,[m(o("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>e.form.policy_id=r),class:"shadow-sm border border-gray-300 text-gray-900 dark:text-white sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5 bg-white dark:bg-gray-800"},[t[29]||(t[29]=o("option",{value:null},"Select policy",-1)),(a(!0),s(c,null,v(e.insurancePolicies,r=>(a(),s("option",{key:r.id,value:r.id},d(r.policy_number??r.name??r.service_type??"—"),9,Ut))),128))],512),[[p,e.form.policy_id]]),e.form.errors?.policy_id?(a(),s("div",$t,d(e.form.errors.policy_id),1)):u("",!0)])])])])],32))}});export{Nt as _};
