import{d as A,y as se,k as g,z as j,c as N,o as y,b as C,a as x,w as b,A as T,B as ie,u as s,C as L,e as U,F as oe,f as I,l as z,D as F,m as $,i as V,E as We,G as Xe,H as he,I as re,J as Ce,K as be,L as Fe,M as qe,N as Ge,O as Je,P as Ke,R as Qe,T as Ze,x as et,U as Ee,r as $e,p as Q,t as M}from"./app-B9ZmK4zT.js";import{_ as ve}from"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import{c as tt,a as nt,_ as G}from"./index-C8zLWs5I.js";import{c as De,a as Z,b as ee,d as te,U as lt,P as rt,S as ot,_ as at}from"./_plugin-vue_export-helper-BpSdtWAT.js";import{D as st}from"./download-BX8ikYo_.js";import{C as it}from"./check-Dh1oP4g6.js";import{t as ut,c as ge,n as ct,s as ke,f as pe}from"./format-BigqMyrM.js";import"./createContext-fsEdSFMX.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=tt("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function ft(t,e,n){const l=ut(t,n==null?void 0:n.in);return isNaN(e)?ge(t,NaN):(l.setDate(l.getDate()+e),l)}function Le(t,e,n){const[l,r]=ct(n==null?void 0:n.in,t,e);return+ke(l)==+ke(r)}function vt(t,e){return Le(ge(t,t),De(t))}function pt(t,e,n){return ft(t,-1,n)}function mt(t,e){return Le(ge(t,t),pt(De(t)))}function ue(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,l=Symbol(n);return[r=>{const o=We(l,r);if(o||o===null)return o;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},r=>(Xe(l,r),r)]}function ht(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function bt(t){return Ge()?(Je(t),!0):!1}function gt(t){let e=!1,n;const l=Qe(!0);return(...r)=>(e||(n=l.run(()=>t(...r)),e=!0),n)}function me(t){return typeof t=="function"?t():s(t)}const Pe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Te=()=>{};function _t(t,e){function n(...l){return new Promise((r,o)=>{Promise.resolve(t(()=>e.apply(this,l),{fn:e,thisArg:this,args:l})).then(r).catch(o)})}return n}function yt(t,e={}){let n,l,r=Te;const o=i=>{clearTimeout(i),r(),r=Te};return i=>{const a=me(t),u=me(e.maxWait);return n&&o(n),a<=0||u!==void 0&&u<=0?(l&&(o(l),l=null),Promise.resolve(i())):new Promise((d,v)=>{r=e.rejectOnCancel?v:d,u&&!l&&(l=setTimeout(()=>{n&&o(n),l=null,d(i())},u)),n=setTimeout(()=>{l&&o(l),l=null,d(i())},a)})}}function Me(t,e=200,n={}){return _t(yt(e,n),t)}function wt(t,e,n){const l=z(t,(...r)=>(be(()=>l()),e(...r)),n);return l}function ae(t){var e;const n=me(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Re=Pe?window:void 0;function xt(){const t=g(!1),e=he();return e&&j(()=>{t.value=!0},e),t}function St(t){const e=xt();return I(()=>(e.value,!!t()))}function W(t,e,n={}){const{window:l=Re,...r}=n;let o;const i=St(()=>l&&"ResizeObserver"in l),a=()=>{o&&(o.disconnect(),o=void 0)},u=I(()=>Array.isArray(t)?t.map(h=>ae(h)):[ae(t)]),d=z(u,h=>{if(a(),i.value&&l){o=new ResizeObserver(e);for(const m of h)m&&o.observe(m,r)}},{immediate:!0,flush:"post"}),v=()=>{a(),d()};return bt(v),{isSupported:i,stop:v}}function _e(t){return t?t.flatMap(e=>e.type===oe?_e(e.children):[e]):[]}const[Oe,Dn]=ue("ConfigProvider");function Ct(t){const e=Oe({dir:g("ltr")});return I(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function B(){const t=he(),e=g(),n=I(()=>{var i,a;return["#text","#comment"].includes((i=e.value)==null?void 0:i.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:ae(e)}),l=Object.assign({},t.exposed),r={};for(const i in t.props)Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>t.props[i]});if(Object.keys(l).length>0)for(const i in l)Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>l[i]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=r;function o(i){e.value=i,i&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),t.exposed=r)}return{forwardRef:o,currentRef:e,currentElement:n}}function ze(t,e){const n=g(t);function l(r){return e[n.value][r]??n.value}return{state:n,dispatch:r=>{n.value=l(r)}}}const Et=A({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l,r;if(!n.default)return null;const o=_e(n.default()),i=o.findIndex(v=>v.type!==Fe);if(i===-1)return o;const a=o[i];(l=a.props)==null||delete l.ref;const u=a.props?L(e,a.props):e;e.class&&(r=a.props)!=null&&r.class&&delete a.props.class;const d=qe(a,u);for(const v in u)v.startsWith("on")&&(d.props||(d.props={}),d.props[v]=u[v]);return o.length===1?d:(o[i]=d,o)}}}),X=A({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const l=t.asChild?"template":t.as;return typeof l=="string"&&["area","img","input"].includes(l)?()=>re(l,e):l!=="template"?()=>re(t.as,e,{default:n.default}):()=>re(Et,e,{default:n.default})}});function $t(t,e){var n;const l=g({}),r=g("none"),o=g(t),i=t.value?"mounted":"unmounted";let a;const u=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??Re,{state:d,dispatch:v}=ze(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=S=>{var c;if(Pe){const _=new CustomEvent(S,{bubbles:!1,cancelable:!1});(c=e.value)==null||c.dispatchEvent(_)}};z(t,async(S,c)=>{var _;const f=c!==S;if(await be(),f){const P=r.value,D=ne(e.value);S?(v("MOUNT"),h("enter"),D==="none"&&h("after-enter")):D==="none"||((_=l.value)==null?void 0:_.display)==="none"?(v("UNMOUNT"),h("leave"),h("after-leave")):c&&P!==D?(v("ANIMATION_OUT"),h("leave")):(v("UNMOUNT"),h("after-leave"))}},{immediate:!0});const m=S=>{const c=ne(e.value),_=c.includes(S.animationName),f=d.value==="mounted"?"enter":"leave";if(S.target===e.value&&_&&(h(`after-${f}`),v("ANIMATION_END"),!o.value)){const P=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=u==null?void 0:u.setTimeout(()=>{var D;((D=e.value)==null?void 0:D.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=P)})}S.target===e.value&&c==="none"&&v("ANIMATION_END")},k=S=>{S.target===e.value&&(r.value=ne(e.value))},R=z(e,(S,c)=>{S?(l.value=getComputedStyle(S),S.addEventListener("animationstart",k),S.addEventListener("animationcancel",m),S.addEventListener("animationend",m)):(v("ANIMATION_END"),a!==void 0&&(u==null||u.clearTimeout(a)),c==null||c.removeEventListener("animationstart",k),c==null||c.removeEventListener("animationcancel",m),c==null||c.removeEventListener("animationend",m))},{immediate:!0}),O=z(d,()=>{const S=ne(e.value);r.value=d.value==="mounted"?S:"none"});return F(()=>{R(),O()}),{isPresent:I(()=>["mounted","unmountSuspended"].includes(d.value))}}function ne(t){return t&&getComputedStyle(t).animationName||"none"}const ye=A({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var l;const{present:r,forceMount:o}=se(t),i=g(),{isPresent:a}=$t(r,i);n({present:a});let u=e.default({present:a});u=_e(u||[]);const d=he();if(u&&(u==null?void 0:u.length)>1){const v=(l=d==null?void 0:d.parent)!=null&&l.type.name?`<${d.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${v}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>o.value||r.value||a.value?re(e.default({present:a})[0],{ref:v=>{const h=ae(v);return typeof(h==null?void 0:h.hasAttribute)>"u"||(h!=null&&h.hasAttribute("data-radix-popper-content-wrapper")?i.value=h.firstElementChild:i.value=h),h}}):null}});Ke({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});gt(()=>g([]));function kt(t){const e=Oe({nonce:g()});return I(()=>{var n;return(t==null?void 0:t.value)||((n=e.nonce)==null?void 0:n.value)})}const[H,Tt]=ue("ScrollAreaRoot"),At=A({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,l=g(0),r=g(0),o=g(),i=g(),a=g(),u=g(),d=g(!1),v=g(!1),{type:h,dir:m,scrollHideDelay:k}=se(n),R=Ct(m);function O(){var f;(f=o.value)==null||f.scrollTo({top:0})}function S(){var f;(f=o.value)==null||f.scrollTo({top:0,left:0})}e({viewport:o,scrollTop:O,scrollTopLeft:S});const{forwardRef:c,currentElement:_}=B();return Tt({type:h,dir:R,scrollHideDelay:k,scrollArea:_,viewport:o,onViewportChange:f=>{o.value=f||void 0},content:i,onContentChange:f=>{i.value=f},scrollbarX:a,scrollbarXEnabled:d,scrollbarY:u,scrollbarYEnabled:v,onScrollbarXChange:f=>{a.value=f||void 0},onScrollbarYChange:f=>{u.value=f||void 0},onScrollbarXEnabledChange:f=>{d.value=f},onScrollbarYEnabledChange:f=>{v.value=f},onCornerWidthChange:f=>{l.value=f},onCornerHeightChange:f=>{r.value=f}}),(f,P)=>(y(),$(s(X),{ref:s(c),"as-child":n.asChild,as:f.as,dir:s(R),style:ie({position:"relative","--radix-scroll-area-corner-width":`${l.value}px`,"--radix-scroll-area-corner-height":`${r.value}px`})},{default:b(()=>[T(f.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),Nt=A({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,{nonce:l}=se(n),r=kt(l),o=H(),i=g();j(()=>{o.onViewportChange(i.value),o.onContentChange(u.value)}),e({viewportElement:i});const{forwardRef:a,currentElement:u}=B();return(d,v)=>(y(),N(oe,null,[C("div",L({ref_key:"viewportElement",ref:i,"data-radix-scroll-area-viewport":"",style:{overflowX:s(o).scrollbarXEnabled.value?"scroll":"hidden",overflowY:s(o).scrollbarYEnabled.value?"scroll":"hidden"}},d.$attrs,{tabindex:0}),[x(s(X),{ref:s(a),style:ie({minWidth:s(o).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:d.as},{default:b(()=>[T(d.$slots,"default")]),_:3},8,["style","as-child","as"])],16),x(s(X),{as:"style",nonce:s(r)},{default:b(()=>[U(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-radix-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-radix-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")]),_:1},8,["nonce"])],64))}});function Be(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const l=(e[1]-e[0])/(t[1]-t[0]);return e[0]+l*(n-t[0])}}function ce(t){const e=He(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=(t.scrollbar.size-n)*e;return Math.max(l,18)}function He(t,e){const n=t/e;return Number.isNaN(n)?0:n}function It(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},l=0;return function r(){const o={left:t.scrollLeft,top:t.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&e(),n=o,l=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(l)}function Ae(t,e,n="ltr"){const l=ce(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-r,i=e.content-e.viewport,a=o-l,u=n==="ltr"?[0,i]:[i*-1,0],d=ht(t,u[0],u[1]);return Be([0,i],[0,a])(d)}function le(t){return t?Number.parseInt(t,10):0}function Dt(t,e,n,l="ltr"){const r=ce(n),o=r/2,i=e||o,a=r-i,u=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-a,v=n.content-n.viewport,h=l==="ltr"?[0,v]:[v*-1,0];return Be([u,d],h)(t)}function Ne(t,e){return t>0&&t<e}const Ue=A({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,l=e,r=H(),o=de(),i=fe(),{forwardRef:a,currentElement:u}=B(),d=g(""),v=g();function h(c){var _,f;if(v.value){const P=c.clientX-((_=v.value)==null?void 0:_.left),D=c.clientY-((f=v.value)==null?void 0:f.top);l("onDragScroll",{x:P,y:D})}}function m(c){c.button===0&&(c.target.setPointerCapture(c.pointerId),v.value=u.value.getBoundingClientRect(),d.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),h(c))}function k(c){h(c)}function R(c){const _=c.target;_.hasPointerCapture(c.pointerId)&&_.releasePointerCapture(c.pointerId),document.body.style.webkitUserSelect=d.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),v.value=void 0}function O(c){var _;const f=c.target,P=(_=u.value)==null?void 0:_.contains(f),D=o.sizes.value.content-o.sizes.value.viewport;P&&o.handleWheelScroll(c,D)}j(()=>{document.addEventListener("wheel",O,{passive:!1})}),F(()=>{document.removeEventListener("wheel",O)});function S(){var c,_,f,P,D;u.value&&(n.isHorizontal?o.handleSizeChange({content:((c=r.viewport.value)==null?void 0:c.scrollWidth)??0,viewport:((_=r.viewport.value)==null?void 0:_.offsetWidth)??0,scrollbar:{size:u.value.clientWidth??0,paddingStart:le(getComputedStyle(u.value).paddingLeft),paddingEnd:le(getComputedStyle(u.value).paddingRight)}}):o.handleSizeChange({content:((f=r.viewport.value)==null?void 0:f.scrollHeight)??0,viewport:((P=r.viewport.value)==null?void 0:P.offsetHeight)??0,scrollbar:{size:((D=u.value)==null?void 0:D.clientHeight)??0,paddingStart:le(getComputedStyle(u.value).paddingLeft),paddingEnd:le(getComputedStyle(u.value).paddingRight)}}))}return W(u,S),W(r.content,S),(c,_)=>(y(),$(s(X),{ref:s(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:s(i).as.value,"as-child":s(i).asChild.value,onPointerdown:m,onPointermove:k,onPointerup:R},{default:b(()=>[T(c.$slots,"default")]),_:3},8,["as","as-child"]))}}),Lt=A({__name:"ScrollAreaScrollbarX",setup(t){const e=H(),n=de(),{forwardRef:l,currentElement:r}=B();j(()=>{r.value&&e.onScrollbarXChange(r.value)});const o=I(()=>n.sizes.value);return(i,a)=>(y(),$(Ue,{ref:s(l),"is-horizontal":!0,"data-orientation":"horizontal",style:ie({bottom:0,left:s(e).dir.value==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s(e).dir.value==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":o.value?`${s(ce)(o.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=u=>s(n).onDragScroll(u.x))},{default:b(()=>[T(i.$slots,"default")]),_:3},8,["style"]))}}),Pt=A({__name:"ScrollAreaScrollbarY",setup(t){const e=H(),n=de(),{forwardRef:l,currentElement:r}=B();j(()=>{r.value&&e.onScrollbarYChange(r.value)});const o=I(()=>n.sizes.value);return(i,a)=>(y(),$(Ue,{ref:s(l),"is-horizontal":!1,"data-orientation":"vertical",style:ie({top:0,right:s(e).dir.value==="ltr"?0:void 0,left:s(e).dir.value==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":o.value?`${s(ce)(o.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=u=>s(n).onDragScroll(u.y))},{default:b(()=>[T(i.$slots,"default")]),_:3},8,["style"]))}}),[de,Mt]=ue("ScrollAreaScrollbarVisible"),we=A({__name:"ScrollAreaScrollbarVisible",setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),r=g({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),o=I(()=>{const c=He(r.value.viewport,r.value.content);return c>0&&c<1}),i=g(),a=g(0);function u(c,_){if(k.value){const f=e.viewport.value.scrollLeft+c.deltaY;e.viewport.value.scrollLeft=f,Ne(f,_)&&c.preventDefault()}else{const f=e.viewport.value.scrollTop+c.deltaY;e.viewport.value.scrollTop=f,Ne(f,_)&&c.preventDefault()}}function d(c,_){k.value?a.value=_.x:a.value=_.y}function v(c){a.value=0}function h(c){r.value=c}function m(c,_){return Dt(c,a.value,r.value,_)}const k=I(()=>n.isHorizontal.value);function R(c){k.value?e.viewport.value.scrollLeft=m(c,e.dir.value):e.viewport.value.scrollTop=m(c)}function O(){if(k.value){if(e.viewport.value&&i.value){const c=e.viewport.value.scrollLeft,_=Ae(c,r.value,e.dir.value);i.value.style.transform=`translate3d(${_}px, 0, 0)`}}else if(e.viewport.value&&i.value){const c=e.viewport.value.scrollTop,_=Ae(c,r.value);i.value.style.transform=`translate3d(0, ${_}px, 0)`}}function S(c){i.value=c}return Mt({sizes:r,hasThumb:o,handleWheelScroll:u,handleThumbDown:d,handleThumbUp:v,handleSizeChange:h,onThumbPositionChange:O,onThumbChange:S,onDragScroll:R}),(c,_)=>k.value?(y(),$(Lt,L({key:0},c.$attrs,{ref:s(l)}),{default:b(()=>[T(c.$slots,"default")]),_:3},16)):(y(),$(Pt,L({key:1},c.$attrs,{ref:s(l)}),{default:b(()=>[T(c.$slots,"default")]),_:3},16))}}),Ve=A({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),r=g(!1),o=Me(()=>{if(e.viewport.value){const i=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=n.isHorizontal.value?i:a}},10);return j(()=>o()),W(e.viewport,o),W(e.content,o),(i,a)=>(y(),$(s(ye),{present:i.forceMount||r.value},{default:b(()=>[x(we,L(i.$attrs,{ref:s(l),"data-state":r.value?"visible":"hidden"}),{default:b(()=>[T(i.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Rt=A({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(t){const e=H(),{forwardRef:n}=B();let l;const r=g(!1);function o(){window.clearTimeout(l),r.value=!0}function i(){l=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return j(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",o),a.addEventListener("pointerleave",i))}),F(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(l),a.removeEventListener("pointerenter",o),a.removeEventListener("pointerleave",i))}),(a,u)=>(y(),$(s(ye),{present:a.forceMount||r.value},{default:b(()=>[x(Ve,L(a.$attrs,{ref:s(n),"data-state":r.value?"visible":"hidden"}),{default:b(()=>[T(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Ot=A({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(t){const e=H(),n=fe(),{forwardRef:l}=B(),{state:r,dispatch:o}=ze("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});Ce(a=>{if(r.value==="idle"){const u=window.setTimeout(()=>o("HIDE"),e.scrollHideDelay.value);a(()=>{window.clearTimeout(u)})}});const i=Me(()=>o("SCROLL_END"),100);return Ce(a=>{const u=e.viewport.value,d=n.isHorizontal.value?"scrollLeft":"scrollTop";if(u){let v=u[d];const h=()=>{const m=u[d];v!==m&&(o("SCROLL"),i()),v=m};u.addEventListener("scroll",h),a(()=>{u.removeEventListener("scroll",h)})}}),(a,u)=>(y(),$(s(ye),{present:a.forceMount||s(r)!=="hidden"},{default:b(()=>[x(we,L(a.$attrs,{ref:s(l)}),{default:b(()=>[T(a.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[fe,zt]=ue("ScrollAreaScrollbar"),Bt=A({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,{forwardRef:n}=B(),l=H(),r=I(()=>e.orientation==="horizontal");z(r,()=>{r.value?l.onScrollbarXEnabledChange(!0):l.onScrollbarYEnabledChange(!0)},{immediate:!0}),F(()=>{l.onScrollbarXEnabledChange(!1),l.onScrollbarYEnabledChange(!1)});const{orientation:o,forceMount:i,asChild:a,as:u}=se(e);return zt({orientation:o,forceMount:i,isHorizontal:r,as:u,asChild:a}),(d,v)=>s(l).type.value==="hover"?(y(),$(Rt,L({key:0},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="scroll"?(y(),$(Ot,L({key:1},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="auto"?(y(),$(Ve,L({key:2},d.$attrs,{ref:s(n),"force-mount":s(i)}),{default:b(()=>[T(d.$slots,"default")]),_:3},16,["force-mount"])):s(l).type.value==="always"?(y(),$(we,L({key:3},d.$attrs,{ref:s(n),"data-state":"visible"}),{default:b(()=>[T(d.$slots,"default")]),_:3},16)):V("",!0)}}),Ht=A({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=H(),l=de();function r(m){const k=m.target.getBoundingClientRect(),R=m.clientX-k.left,O=m.clientY-k.top;l.handleThumbDown(m,{x:R,y:O})}function o(m){l.handleThumbUp(m)}const{forwardRef:i,currentElement:a}=B(),u=g(),d=I(()=>n.viewport.value);function v(){if(!u.value){const m=It(d.value,l.onThumbPositionChange);u.value=m,l.onThumbPositionChange()}}const h=I(()=>l.sizes.value);return wt(h,()=>{l.onThumbChange(a.value),d.value&&(l.onThumbPositionChange(),d.value.addEventListener("scroll",v))}),F(()=>{var m;d.value.removeEventListener("scroll",v),(m=n.viewport.value)==null||m.removeEventListener("scroll",v)}),(m,k)=>(y(),$(s(X),{ref:s(i),"data-state":s(l).hasThumb?"visible":"hidden",style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},"as-child":e.asChild,as:m.as,onPointerdown:r,onPointerup:o},{default:b(()=>[T(m.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Ut=A({__name:"ScrollAreaCornerImpl",setup(t){const e=H(),n=g(0),l=g(0),r=I(()=>!!n.value&&!!l.value);function o(){var a;const u=((a=e.scrollbarX.value)==null?void 0:a.offsetHeight)||0;e.onCornerHeightChange(u),l.value=u}function i(){var a;const u=((a=e.scrollbarY.value)==null?void 0:a.offsetWidth)||0;e.onCornerWidthChange(u),n.value=u}return W(e.scrollbarX.value,o),W(e.scrollbarY.value,i),z(()=>e.scrollbarX.value,o),z(()=>e.scrollbarY.value,i),(a,u)=>{var d;return r.value?(y(),$(s(X),L({key:0,style:{width:`${n.value}px`,height:`${l.value}px`,position:"absolute",right:s(e).dir.value==="ltr"?0:void 0,left:s(e).dir.value==="rtl"?0:void 0,bottom:0}},(d=a.$parent)==null?void 0:d.$props),{default:b(()=>[T(a.$slots,"default")]),_:3},16,["style"])):V("",!0)}}}),Vt=A({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=B(),l=H(),r=I(()=>!!l.scrollbarX.value&&!!l.scrollbarY.value),o=I(()=>l.type.value!=="scroll"&&r.value);return(i,a)=>o.value?(y(),$(Ut,L({key:0},e,{ref:s(n)}),{default:b(()=>[T(i.$slots,"default")]),_:3},16)):V("",!0)}});function Yt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}Yt();const Ie=A({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=I(()=>{const{class:l,...r}=e;return r});return(l,r)=>(y(),$(s(At),L(n.value,{class:s(nt)("relative overflow-hidden",e.class)}),{default:b(()=>[x(s(Nt),{class:"h-full w-full rounded-[inherit]"},{default:b(()=>[T(l.$slots,"default")]),_:3}),x(s(Bt),{class:"flex touch-none select-none border-l border-l-transparent p-[1px] transition-colors duration-200 ease-out data-[orientation=vertical]:w-2.5 data-[orientation=horizontal]:h-2.5 data-[orientation=horizontal]:flex-col"},{default:b(()=>[x(s(Ht),{class:"relative flex-1 rounded-full bg-border"})]),_:1}),x(s(Vt))]),_:3},16,["class"]))}}),J=g([]);let jt=0;function Wt(){const t=e=>{const n=`toast-${jt++}`;J.value.push({...e,id:n}),setTimeout(()=>{J.value=J.value.filter(l=>l.id!==n)},5e3)};return F(()=>{J.value=[]}),{toasts:J,toast:t}}const Xt={class:"flex h-[calc(100vh-4rem)] bg-background"},Ft={class:"w-1/4 border-r bg-card dark:border-border flex flex-col"},qt={class:"p-4 border-b dark:border-border"},Gt={class:"mt-4 flex items-center space-x-2"},Jt={class:"divide-y dark:divide-border"},Kt=["onClick"],Qt={class:"flex items-center space-x-3"},Zt={class:"font-medium text-foreground"},en={class:"text-sm text-muted-foreground"},tn={class:"flex-grow flex flex-col bg-background"},nn={key:0,class:"p-4 border-b dark:border-border flex justify-between items-center"},ln={class:"flex items-center space-x-3"},rn={class:"font-medium text-foreground"},on={class:"text-sm text-muted-foreground"},an={key:1,class:"p-4 border-b dark:border-border"},sn={class:"space-y-6"},un={key:0,class:"text-sm"},cn={key:1,class:"mt-2"},dn=["innerHTML"],fn={key:0,class:"ml-1"},vn={key:1,class:"ml-1"},pn={key:2,class:"p-4 border-t dark:border-border"},mn={key:0,class:"mb-2 p-2 border rounded-md bg-accent flex items-center justify-between"},hn={class:"flex items-center gap-2"},bn=["src"],gn={key:1,class:"text-xl"},_n={class:"relative"},yn={class:"absolute inset-y-0 right-0 flex items-center"},wn={for:"attachment-input",class:"cursor-pointer p-2"},xn={key:3,class:"p-4 border-t dark:border-border text-center text-muted-foreground"},Sn=A({__name:"Index",props:{auth:{},conversations:{},selectedConversation:{},messages:{},filters:{}},setup(t){var Se;const e=t,n=Ze(),{toast:l}=Wt(),r=g(e.conversations),o=g(e.selectedConversation),i=g(e.messages),a=g(""),u=g(null),d=g(null),v=g(null),h=g(e.filters.search||""),m=et({receiver_id:((Se=o.value)==null?void 0:Se.id)||null,message:"",attachment:null});z(()=>e.conversations,p=>{r.value=p}),z(()=>e.selectedConversation,p=>{o.value=p,m.receiver_id=(p==null?void 0:p.id)||null}),z(()=>e.messages,p=>{i.value=p,be(k)}),z(a,p=>{m.message=p});const k=()=>{v.value&&v.value.scrollIntoView({behavior:"smooth"})},R=p=>{window.location.href=route("admin.messages.index",p)},O=p=>{const E=p.target;if(E.files&&E.files[0]){const Y=E.files[0];if(u.value=Y,m.attachment=Y,Y.type.startsWith("image/")){const q=new FileReader;q.onload=K=>{var w;d.value=(w=K.target)==null?void 0:w.result},q.readAsDataURL(Y)}else d.value=null}else u.value=null,m.attachment=null,d.value=null},S=()=>{u.value=null,m.attachment=null,d.value=null;const p=document.getElementById("attachment-input");p&&(p.value="")},c=()=>{if(!m.message&&!m.attachment){l({title:"Cannot send empty message",description:"Please type a message or attach a file.",variant:"destructive"});return}m.post(route("admin.messages.store"),{preserveScroll:!0,onSuccess:()=>{var p;a.value="",S(),window.location.href=route("admin.messages.index",(p=o.value)==null?void 0:p.id)},onError:p=>{console.error("Message send error:",p),l({title:"Failed to send message",description:p.message||"An unknown error occurred.",variant:"destructive"})}})},_=p=>{const E=new Date(p);return vt(E)?pe(E,"p"):mt(E)?"Yesterday "+pe(E,"p"):pe(E,"MMM d, yyyy p")},f=p=>p.sender_id===n.props.auth.user.id,P=p=>{window.open(route("admin.messages.download",p),"_blank")},D=()=>{window.location.href=route("admin.messages.index",{search:h.value})},xe=p=>p?p.startsWith("image/")?"🖼️":p.includes("pdf")?"📄":p.includes("wordprocessingml")||p.includes("msword")?"📝":p.includes("spreadsheetml")||p.includes("excel")?"📊":p.includes("text/plain")?"📄":"📎":"📎",Ye=p=>{var E;return(E=p.attachment_mime_type)!=null&&E.startsWith("image/")?`<img src="${p.attachment_url}" alt="${p.attachment_filename}" class="max-w-xs max-h-48 rounded-lg object-cover" />`:`<div class="flex items-center gap-2 p-2 border rounded-md bg-gray-50 dark:bg-gray-700">
            <span class="text-xl">${xe(p.attachment_mime_type)}</span>
            <span>${p.attachment_filename}</span>
          </div>`};return(p,E)=>{var Y,q,K;return y(),N("div",Xt,[C("div",Ft,[C("div",qt,[E[3]||(E[3]=C("h2",{class:"text-xl font-semibold text-foreground"},"Conversations",-1)),C("div",Gt,[x(s(ve),{modelValue:h.value,"onUpdate:modelValue":E[0]||(E[0]=w=>h.value=w),placeholder:"Search users...",class:"flex-grow",onKeyup:Ee(D,["enter"])},null,8,["modelValue"]),x(s(G),{onClick:D},{default:b(()=>E[2]||(E[2]=[U("Search")])),_:1,__:[2]})])]),x(s(Ie),{class:"flex-grow overflow-y-auto"},{default:b(()=>[C("ul",Jt,[(y(!0),N(oe,null,$e(r.value,w=>(y(),N("li",{key:w.id,class:Q(["p-4 cursor-pointer hover:bg-accent",{"bg-primary/10":o.value&&o.value.id===w.id}]),onClick:je=>R(w.id)},[C("div",Qt,[x(s(Z),null,{default:b(()=>[x(s(ee),{src:w.profile_photo_url,alt:w.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[U(M(w.name.charAt(0)),1)]),_:2},1024)]),_:2},1024),C("div",null,[C("p",Zt,M(w.name),1),C("p",en,M(w.email),1)])])],10,Kt))),128))])]),_:1})]),C("div",tn,[o.value?(y(),N("div",nn,[C("div",ln,[x(s(Z),null,{default:b(()=>[x(s(ee),{src:o.value.profile_photo_url,alt:o.value.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[U(M(o.value.name.charAt(0)),1)]),_:1})]),_:1}),C("div",null,[C("p",rn,M(o.value.name),1),C("p",on,M(o.value.email),1)])]),x(s(G),{variant:"ghost",size:"icon"},{default:b(()=>[x(s(lt),{class:"h-5 w-5"})]),_:1})])):(y(),N("div",an,E[4]||(E[4]=[C("h2",{class:"text-xl font-semibold text-foreground"}," Select a Conversation ",-1)]))),x(s(Ie),{class:"flex-grow p-6 overflow-y-auto custom-scrollbar"},{default:b(()=>[C("div",sn,[(y(!0),N(oe,null,$e(i.value,w=>(y(),N("div",{key:w.id,class:Q(["flex items-end gap-2",f(w)?"justify-end":"justify-start"])},[f(w)?V("",!0):(y(),$(s(Z),{key:0,class:"h-8 w-8"},{default:b(()=>[x(s(ee),{src:w.sender.profile_photo_url,alt:w.sender.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[U(M(w.sender.name.charAt(0)),1)]),_:2},1024)]),_:2},1024)),C("div",{class:Q(["max-w-lg p-3 rounded-2xl",f(w)?"bg-primary text-primary-foreground rounded-br-none":"bg-secondary text-secondary-foreground rounded-bl-none"])},[w.message?(y(),N("div",un,M(w.message),1)):V("",!0),w.attachment_path?(y(),N("div",cn,[C("div",{innerHTML:Ye(w)},null,8,dn),x(s(G),{variant:"link",class:"text-xs p-0 h-auto mt-1",onClick:je=>P(w.id)},{default:b(()=>[x(s(st),{class:"h-3 w-3 mr-1"}),U(" Download "+M(w.attachment_filename),1)]),_:2},1032,["onClick"])])):V("",!0),C("div",{class:Q(["text-xs mt-1",f(w)?"text-primary-foreground/70":"text-muted-foreground"])},[U(M(_(w.created_at))+" ",1),f(w)&&w.read_at?(y(),N("span",fn,[x(s(dt),{class:"h-3 w-3 inline-block"})])):f(w)?(y(),N("span",vn,[x(s(it),{class:"h-3 w-3 inline-block"})])):V("",!0)],2)],2),f(w)?(y(),$(s(Z),{key:1,class:"h-8 w-8"},{default:b(()=>[x(s(ee),{src:s(n).props.auth.user.profile_photo_url,alt:s(n).props.auth.user.name},null,8,["src","alt"]),x(s(te),null,{default:b(()=>[U(M(s(n).props.auth.user.name.charAt(0)),1)]),_:1})]),_:1})):V("",!0)],2))),128)),C("div",{ref_key:"messagesEndRef",ref:v},null,512)])]),_:1}),o.value?(y(),N("div",pn,[d.value?(y(),N("div",mn,[C("div",hn,[(Y=u.value)!=null&&Y.type.startsWith("image/")?(y(),N("img",{key:0,src:d.value,class:"h-16 w-16 object-cover rounded-md"},null,8,bn)):(y(),N("span",gn,M(xe(((q=u.value)==null?void 0:q.type)||"")),1)),C("span",null,M((K=u.value)==null?void 0:K.name),1)]),x(s(G),{variant:"ghost",size:"sm",onClick:S},{default:b(()=>E[5]||(E[5]=[U("X")])),_:1,__:[5]})])):V("",!0),C("div",_n,[x(s(ve),{modelValue:a.value,"onUpdate:modelValue":E[1]||(E[1]=w=>a.value=w),placeholder:"Type your message...",class:"pr-20",onKeyup:Ee(c,["enter"])},null,8,["modelValue"]),C("div",yn,[C("label",wn,[x(s(rt),{class:"h-5 w-5 text-muted-foreground hover:text-foreground"}),x(s(ve),{id:"attachment-input",type:"file",class:"hidden",onChange:O})]),x(s(G),{onClick:c,disabled:s(m).processing,size:"icon",class:"mr-2"},{default:b(()=>[x(s(ot),{class:"h-5 w-5"})]),_:1},8,["disabled"])])])])):(y(),N("div",xn," Select a conversation to start messaging. "))])])}}}),Ln=at(Sn,[["__scopeId","data-v-7f6946c1"]]);export{Ln as default};
