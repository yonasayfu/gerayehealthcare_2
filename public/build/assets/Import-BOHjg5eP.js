import{A as b,d as C,k as m,c as l,o as a,a as o,u,g as w,w as S,b as e,q as c,t as f,F as g,r as V,e as F,s as n,_ as M,Q as T}from"./app-CKJLXAx0.js";import{U as h}from"./upload-Cqc6y718.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=b("FileCheck2Icon",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=b("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),A={class:"space-y-6 p-6"},U={class:"bg-white dark:bg-gray-900 shadow rounded-lg p-6"},q={class:"max-w-xl mx-auto"},O={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md flex items-center gap-2"},B={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md"},D={class:"flex items-center gap-2 mb-2"},E={class:"list-disc list-inside text-sm"},N={class:"mb-4"},z={class:"flex items-center justify-center w-full"},L={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},Q={class:"flex flex-col items-center justify-center pt-5 pb-6"},R={key:0,class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},H={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},P={key:2,class:"text-sm text-gray-600 dark:text-gray-300"},X={class:"flex justify-end"},$=["disabled"],W=C({__name:"Import",setup(G){const v=[{title:"Dashboard",href:route("dashboard")},{title:"Suppliers",href:route("admin.suppliers.index")},{title:"Import CSV",href:route("admin.suppliers.import.create")}],s=m(null),p=m(!1),r=m([]),i=m(null);function x(d){const t=d.target;t.files&&t.files.length>0&&(s.value=t.files[0],r.value=[],i.value=null)}function y(){if(!s.value){alert("Please select a CSV file to upload.");return}p.value=!0,r.value=[],i.value=null;const d=new FormData;d.append("csv_file",s.value),T.post(route("admin.suppliers.import.store"),d,{onSuccess:()=>{i.value="CSV file imported successfully!",s.value=null},onError:t=>{t.csv_file?r.value=[t.csv_file]:r.value=Object.values(t).flat()},onFinish:()=>{p.value=!1}})}return(d,t)=>(a(),l(g,null,[o(u(w),{title:"Import Suppliers from CSV"}),o(M,{breadcrumbs:v},{default:S(()=>[e("div",A,[t[4]||(t[4]=e("div",{class:"rounded-lg bg-muted/40 p-4 shadow-sm"},[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Import Suppliers from CSV"),e("p",{class:"text-sm text-muted-foreground"},"Upload a CSV file to bulk-import supplier data.")],-1)),e("div",U,[e("div",q,[i.value?(a(),l("div",O,[o(u(j),{class:"h-5 w-5"}),e("span",null,f(i.value),1)])):c("",!0),r.value.length>0?(a(),l("div",B,[e("div",D,[o(u(I),{class:"h-5 w-5"}),t[0]||(t[0]=e("h3",{class:"font-bold"},"Validation Errors",-1))]),e("ul",E,[(a(!0),l(g,null,V(r.value,(_,k)=>(a(),l("li",{key:k},f(_),1))),128))])])):c("",!0),e("form",{onSubmit:F(y,["prevent"])},[e("div",N,[t[2]||(t[2]=e("label",{for:"csv_file",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"CSV File",-1)),e("div",z,[e("label",L,[e("div",Q,[o(u(h),{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"}),s.value?c("",!0):(a(),l("p",R,t[1]||(t[1]=[e("span",{class:"font-semibold"},"Click to upload",-1),n(" or drag and drop")]))),s.value?c("",!0):(a(),l("p",H,"CSV (MAX. 2MB)")),s.value?(a(),l("p",P,f(s.value.name),1)):c("",!0)]),e("input",{id:"dropzone-file",type:"file",onChange:x,accept:".csv",class:"hidden"},null,32)])])]),e("div",X,[e("button",{type:"submit",disabled:p.value||!s.value,class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-50"},[o(u(h),{class:"h-4 w-4"}),e("span",null,f(p.value?"Uploading...":"Upload CSV"),1)],8,$)])],32),t[3]||(t[3]=e("div",{class:"mt-8 text-sm text-gray-600 dark:text-gray-400"},[e("h4",{class:"font-semibold mb-2"},"CSV Format Requirements:"),e("p",null,"The CSV file must have the following columns in this exact order:"),e("p",{class:"font-mono text-xs bg-gray-100 dark:bg-gray-800 p-2 rounded my-2"},"name, contact_person, email, phone, address"),e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,[e("strong",null,"name:"),n(" Required. The name of the supplier.")]),e("li",null,[e("strong",null,"contact_person:"),n(" Optional. The contact person at the supplier.")]),e("li",null,[e("strong",null,"email:"),n(" Optional. A valid email address.")]),e("li",null,[e("strong",null,"phone:"),n(" Optional. The phone number of the supplier.")]),e("li",null,[e("strong",null,"address:"),n(" Optional. The address of the supplier.")])])],-1))])])])]),_:1})],64))}});export{W as default};
