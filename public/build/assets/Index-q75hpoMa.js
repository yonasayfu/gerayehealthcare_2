import{d as M,k as m,l as $,Q as b,c as i,o as a,a as l,u as o,g as j,w as g,b as e,m as N,i as d,S as h,e as y,h as _,n as B,v as F,F as k,r as T,t as x,p as L}from"./app-B9ZmK4zT.js";import{_ as z}from"./AppLayout.vue_vue_type_style_index_0_lang-15zqV9G-.js";import{_ as U}from"./Pagination.vue_vue_type_script_setup_true_lang-DLYnE-Py.js";import{d as E}from"./debounce-DetcGv2t.js";import{P as I}from"./plus-B-qItx4i.js";import{A as S}from"./arrow-up-down-cz3aQ1NM.js";import{P}from"./_plugin-vue_export-helper-BpSdtWAT.js";import{M as Q}from"./map-pin-C6Wg1Op_.js";import{F as q}from"./file-text-D7tBIRuP.js";import{P as G}from"./pen-line-l5oGmSQv.js";import{T as H}from"./trash-2-CoGP5DlO.js";import{f as J}from"./format-BigqMyrM.js";import"./index-C8zLWs5I.js";import"./Input.vue_vue_type_script_setup_true_lang-CMAL6YUg.js";import"./createContext-fsEdSFMX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KsBcTmDK.js";import"./RovingFocusGroup-CCdiS5NK.js";const K={class:"space-y-6 p-6"},O={class:"rounded-lg bg-muted/40 p-4 shadow-sm flex flex-col md:flex-row md:items-center md:justify-between gap-4"},R={class:"flex flex-wrap gap-2"},W={class:"flex flex-col md:flex-row justify-between items-center gap-4"},X={class:"relative w-full md:w-1/3"},Y={class:"overflow-x-auto bg-white dark:bg-gray-900 shadow rounded-lg"},Z={class:"w-full text-left text-sm text-gray-800 dark:text-gray-200"},ee={class:"bg-gray-100 dark:bg-gray-800 text-xs uppercase text-muted-foreground"},te={class:"px-6 py-4"},se={class:"px-6 py-4"},re={class:"px-6 py-4"},le={class:"px-6 py-4"},oe={class:"px-6 py-4"},ae={class:"flex items-center space-x-2"},ie=["href"],ne=["href"],de={class:"px-6 py-4"},ue=["href"],ce={class:"px-6 py-4 text-right"},pe={class:"inline-flex items-center justify-end space-x-2"},fe=["onClick"],me={key:0},Ne=M({__name:"Index",props:{visitServices:{},filters:{}},setup(V){const u=V,C=[{title:"Dashboard",href:route("dashboard")},{title:"Visit Services",href:route("admin.visit-services.index")}],c=m(u.filters.search||""),p=m(u.filters.sort_by||"scheduled_at"),n=m(u.filters.sort_direction||"desc"),f=m(u.filters.per_page||10);$([c,p,n,f],E(()=>{b.get(route("admin.visit-services.index"),{search:c.value,sort_by:p.value,sort_direction:n.value,per_page:f.value},{preserveState:!0,replace:!0})},300));function A(r){confirm("Are you sure you want to cancel this visit?")&&b.delete(route("admin.visit-services.destroy",r),{preserveScroll:!0})}function v(r){p.value===r?n.value=n.value==="asc"?"desc":"asc":(p.value=r,n.value="asc")}const D=r=>r?J(new Date(r),"MMM dd, yyyy, hh:mm a"):"N/A";return(r,t)=>(a(),i(k,null,[l(o(j),{title:"Visit Services"}),l(z,{breadcrumbs:C},{default:g(()=>[e("div",K,[e("div",O,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Visit Services"),e("p",{class:"text-sm text-muted-foreground"},"Manage all scheduled patient visits.")],-1)),e("div",R,[l(o(h),{href:r.route("admin.visit-services.create"),class:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white text-sm px-4 py-2 rounded-md transition"},{default:g(()=>[l(o(I),{class:"h-4 w-4"}),t[4]||(t[4]=y(" Schedule Visit "))]),_:1,__:[4]},8,["href"])])]),e("div",W,[e("div",X,[_(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),placeholder:"Search by Patient or Staff...",class:"form-input w-full rounded-md border border-gray-300 pl-10 pr-4 py-2 text-sm shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none dark:bg-gray-900 dark:text-gray-100"},null,512),[[B,c.value]]),t[6]||(t[6]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400",xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.65-1.85z"})],-1))]),e("div",null,[t[8]||(t[8]=e("label",{for:"perPage",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},"Per Page:",-1)),_(e("select",{id:"perPage","onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),class:"rounded-md border-gray-300 dark:bg-gray-800 dark:text-white"},t[7]||(t[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[F,f.value]])])]),e("div",Y,[e("table",Z,[e("thead",ee,[e("tr",null,[t[11]||(t[11]=e("th",{class:"px-6 py-3"},"Patient",-1)),t[12]||(t[12]=e("th",{class:"px-6 py-3"},"Assigned Staff",-1)),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[2]||(t[2]=s=>v("scheduled_at"))},[t[9]||(t[9]=y("Scheduled At ")),l(o(S),{class:"inline w-4 h-4 ml-1"})]),e("th",{class:"px-6 py-3 cursor-pointer",onClick:t[3]||(t[3]=s=>v("status"))},[t[10]||(t[10]=y("Status ")),l(o(S),{class:"inline w-4 h-4 ml-1"})]),t[13]||(t[13]=e("th",{class:"px-6 py-3"},"Documents",-1)),t[14]||(t[14]=e("th",{class:"px-6 py-3"},"Location",-1)),t[15]||(t[15]=e("th",{class:"px-6 py-3 text-right"},"Actions",-1))])]),e("tbody",null,[(a(!0),i(k,null,T(r.visitServices.data,s=>{var w;return a(),i("tr",{key:s.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",te,x(((w=s.patient)==null?void 0:w.full_name)??"N/A"),1),e("td",se,x(s.staff?`${s.staff.first_name} ${s.staff.last_name}`:"N/A"),1),e("td",re,x(D(s.scheduled_at)),1),e("td",le,[e("span",{class:L({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-yellow-100 text-yellow-800":s.status==="Pending","bg-green-100 text-green-800":s.status==="Completed","bg-red-100 text-red-800":s.status==="Cancelled","bg-blue-100 text-blue-800":s.status==="In Progress"})},x(s.status),3)]),e("td",oe,[e("div",ae,[s.prescription_file_url?(a(),i("a",{key:0,href:s.prescription_file_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-800",title:"View Prescription"},[l(o(P),{class:"w-4 h-4"})],8,ie)):d("",!0),s.vitals_file_url?(a(),i("a",{key:1,href:s.vitals_file_url,target:"_blank",class:"text-teal-600 hover:text-teal-800",title:"View Vitals"},[l(o(P),{class:"w-4 h-4"})],8,ne)):d("",!0)])]),e("td",de,[s.check_in_latitude&&s.check_in_longitude?(a(),i("a",{key:0,href:`https://www.google.com/maps/search/?api=1&query=${s.check_in_latitude},${s.check_in_longitude}`,target:"_blank",class:"text-blue-600 hover:text-blue-800",title:"View Check-in Location"},[l(o(Q),{class:"w-5 h-5"})],8,ue)):d("",!0)]),e("td",ce,[e("div",pe,[l(o(h),{href:r.route("admin.visit-services.show",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600",title:"View Details"},{default:g(()=>[l(o(q),{class:"w-4 h-4"})]),_:2},1032,["href"]),l(o(h),{href:r.route("admin.visit-services.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 text-blue-600",title:"Edit"},{default:g(()=>[l(o(G),{class:"w-4 h-4"})]),_:2},1032,["href"]),e("button",{onClick:ge=>A(s.id),class:"text-red-600 hover:text-red-800 inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-red-100 dark:hover:bg-red-900",title:"Cancel Visit"},[l(o(H),{class:"w-4 h-4"})],8,fe)])])])}),128)),r.visitServices.data.length===0?(a(),i("tr",me,t[16]||(t[16]=[e("td",{colspan:"7",class:"text-center px-6 py-4 text-gray-400"},"No visits found.",-1)]))):d("",!0)])])]),r.visitServices.data.length>0?(a(),N(U,{key:0,links:r.visitServices.links,class:"mt-6 flex justify-center"},null,8,["links"])):d("",!0)])]),_:1})],64))}});export{Ne as default};
